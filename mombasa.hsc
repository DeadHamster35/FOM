;; these are objects placed in the Scenery.scenario file that need to be referenced by the main scripts.

;; Static/Stub scripts were designed for this, you create a static script that defines the object in the scenario
;; where the object exists, and a matching stub script in the scenario where the object needs to be referenced.
;; now in the main scenario I can reference the static script (AR0) and get the object 0_rl from the child scenario.

(script stub scenery AR0 none)
(script stub scenery AR1 none)
(script stub scenery AR2 none)
(script stub scenery AR3 none)
(script stub scenery AR4 none)
(script stub scenery AR5 none)
(script stub scenery GR0 none)
(script stub scenery GR1 none)
(script stub scenery GR2 none)
(script stub scenery GR3 none)
(script stub scenery GR4 none)
(script stub scenery GR5 none)


(global object_definition ar_obj "cmt\weapons\spv3\human\assault_rifle\assault_rifle")
(global object_definition br_obj "cmt\weapons\spv3\human\battle_rifle\battle_rifle")
(global object_definition dr_obj "cmt\weapons\spv3\human\dmr\dmr")
(global object_definition sg_obj "cmt\weapons\spv3\human\shotgun\shotgun")
(global object_definition smg_obj "cmt\weapons\spv3\human\smg\smg")
(global object_definition sr_obj "cmt\weapons\spv3\human\sniper_rifle\sniper_rifle")
(global object_definition ps_obj "cmt\weapons\spv3\human\pistol\pistol")
(global short grenlock 0)
(global long GX0 0)
(global long GX1 0)
(global long GX2 0)
(global long GX3 0)
(global short spawnlock 0)
(global short softlock 0)
(global short vehilock 0)
(global short ally_level 0)
(global short seed 0)
(global short tempint 0)
(global short temp_ghostcount 0)
(global short temp_wraithcount 0)
(global short temp_bspindex 0)
(global boolean refresh false)
(global boolean start 0)
(global unit WRAITH none)
(global unit GHOST none)
(global short spawn_mode 0)
(global short vehicle_id 0)
(global short wraithcount 0)
(global short ghostcount 0)
(global unit p1 none)
(script static unit p0 (unit (list_get (players) 0)))


;;these cut down on script length for checks for the total AI counts of each BSP.

(script static short ai_count0 (+ (ai_living_count 0_jalley) (ai_living_count 0_courtyard) (ai_living_count 0_turf) (ai_living_count 0_scarab)) )
(script static short ai_count1 (+ (ai_living_count 1_headlong) (ai_living_count 1_terminal) (ai_living_count 1_ivory) (ai_living_count 1_parking) (ai_living_count 1_interior)) )
(script static short ai_count2 (+ (ai_living_count 2_mombasaghosts) (ai_living_count 2_chronoghosts) (ai_living_count 2_newmombasa) (ai_living_count 2_chronoparking) (ai_living_count 2_mombasarear) (ai_living_count 2_chronorear) (ai_living_count 2_loadingbay) (ai_living_count 2_interiorA) (ai_living_count 2_interiorB)) )
(script static short ai_count3 (+ (ai_living_count 3_front) (ai_living_count 3_back) (ai_living_count 3_mid) (ai_living_count 3_ghost)) )
(script static short ai_count4 (+ (ai_living_count 4_front) (ai_living_count 4_mid) (ai_living_count 4_back) (ai_living_count 4_a) (ai_living_count 4_b) (ai_living_count 4_c) (ai_living_count 4_interiora) (ai_living_count 4_interiorb) (ai_living_count 4_interiorc) ))
(script static short ai_count5 (+ (ai_living_count 5_A) (ai_living_count 5_B) (ai_living_count 5_C) ))

;; Fuck me fuck me fuck me. Holy shit are there a lot of really convulted things going on in this map. 
;; I forced this game to do a lot of stuff it's simply not designed to do. These scripts are documented best I could.

;; so this first one is a temporary fix while I figure out how to kill vehicles without crashing the game.

(script continuous refresher 
(sleep_until refresh)
(set refresh false)
(if (< -1 (unit_get_health ghosta))
(unit_kill ghosta)
)
(if (< -1 (unit_get_health ghostb))
(unit_kill ghostb)
)
(if (< -1 (unit_get_health ghostc))
(unit_kill ghostc)
)
(if (< -1 (unit_get_health ghostd))
(unit_kill ghostd)
)
(if (< -1 (unit_get_health sheea))
(unit_kill sheea)
)
(if (< -1 (unit_get_health sheeb))
(unit_kill sheeb)
)
(if (< -1 (unit_get_health sheec))
(unit_kill sheec)
)
(if (< -1 (unit_get_health sheed))
(unit_kill sheed)
)
(if (< -1 (unit_get_health mhoga))
(unit_kill mhoga)
)
(if (< -1 (unit_get_health mhogb))
(unit_kill mhogb)
)
(if (< -1 (unit_get_health mhogc))
(unit_kill mhogc)
)
(if (< -1 (unit_get_health mhogd))
(unit_kill mhogd)
)
(if (< -1 (unit_get_health wraitha))
(unit_kill wraitha)
)
(if (< -1 (unit_get_health wraithb))
(unit_kill wraithb)
)
)

(script continuous GRENADE_WIZARD
	(sleep_until (= 1 grenlock) 5)
(set GX0 (unit_data_get_integer (p0) total_grenade_count[frag]))
(set GX1 (unit_data_get_integer (p0) total_grenade_count[plasma]))
(set GX2 (unit_data_get_integer (p0) total_grenade_count[custom2]))
(set GX3 (unit_data_get_integer (p0) total_grenade_count[custom3]))
(set grenlock 2)
(sleep_until (= 3 grenlock) 2)
(unit_data_set_integer (p0) total_grenade_count[frag] GX0)
(unit_data_set_integer (p0) total_grenade_count[plasma] GX1)
(unit_data_set_integer (p0) total_grenade_count[custom2] GX2)
(unit_data_set_integer (p0) total_grenade_count[custom3] GX3)
(set grenlock 0)
)
(script continuous AMMO_WIZARD
	(if  (= 1 (device_get_position ac1))
		(begin
			(objects_attach p1 "" a1 "")
			(objects_attach p1 "" a2 "")
			(objects_attach p1 "" a3 "")
			(objects_attach p1 "" a4 "")
			(objects_attach p1 "" a5 "")
			(objects_attach p1 "" a6 "")
			(objects_attach p1 "" a7 "")
			(objects_attach p1 "" a8 "")
			(objects_attach p1 "" a9 "")
			(objects_attach p1 "" a0 "")
			(objects_detach p1 a1)
			(objects_detach p1 a2)
			(objects_detach p1 a3)
			(objects_detach p1 a4)
			(objects_detach p1 a5)
			(objects_detach p1 a6)
			(objects_detach p1 a7)
			(objects_detach p1 a8)
			(objects_detach p1 a9)
			(objects_detach p1 a0)
			(sleep 1)
			(object_create_anew a0)
			(object_create_anew a1)
			(object_create_anew a2)
			(object_create_anew a3)
			(object_create_anew a4)
			(object_create_anew a5)
			(object_create_anew a6)
			(object_create_anew a7)
			(object_create_anew a8)
			(object_create_anew a9)
			(device_set_position ac1 0)
		)
	)
)
(script continuous GUN_WIZARD
	(if (= 1 (device_get_position gc1))			
		(begin
			(display_scripted_ui_widget "weaponmenu")
			(show_hud 0)
			(device_set_power gc1 0)
			(device_set_position gc1 0)
		)
	)
)
(script continuous SAVE_WIZARD
	(sleep (* 1 (* 60 30)))
	(sleep_until (game_safe_to_save) 5)
	(game_save_totally_unsafe)
)


(script static void ammoweapon_reset
(objects_detach (AR0) ac0)
(objects_detach (AR1) ac1)
(objects_detach (AR2) ac2)
(objects_detach (AR3) ac3)
(objects_detach (AR4) ac4)
(objects_detach (AR5) ac5)

(objects_detach (GR0) gc0)
(objects_detach (GR1) gc1)
(objects_detach (GR2) gc2)
(objects_detach (GR3) gc3)
(objects_detach (GR4) gc4)
(objects_detach (GR5) gc5)
)




(script continuous temp_ghostcounter
(set temp_ghostcount 0)
(if (< -1 (unit_get_health ghosta))
	(set temp_ghostcount (+ 1 temp_ghostcount))
)
(if (< -1 (unit_get_health ghostb))
	(set temp_ghostcount (+ 1 temp_ghostcount))
)
(if (< -1 (unit_get_health ghostc))
	(set temp_ghostcount (+ 1 temp_ghostcount))
)
(if (< -1 (unit_get_health ghostd))
	(set temp_ghostcount (+ 1 temp_ghostcount))
)
(set ghostcount temp_ghostcount)
)
(script continuous temp_wraithcounter
(set temp_wraithcount 0)
(if (< -1 (unit_get_health wraitha))
	(set temp_wraithcount (+ 1 temp_wraithcount))
)
(if (< -1 (unit_get_health wraithb))
	(set temp_wraithcount (+ 1 temp_wraithcount))
)
(set wraithcount temp_wraithcount)
)
(script continuous random_seed_obfuscator
	(player_action_test_reset)
	(sleep 5)
	(set seed (random_range 1 11))				
	(cond
		((player_action_test_look_relative_left)
			(begin
				(set seed (random_range 1 11))				
			)
		)
		((player_action_test_look_relative_up)
			(begin
				(set seed (random_range 1 11))
				(set seed (random_range 1 10))
				(set seed (random_range 1 11))
				(set seed (random_range 1 11))
			)
		)
		((player_action_test_look_relative_down)
			(begin
				(set seed (random_range 1 11))
				(set seed (random_range 1 10))
				(set seed (random_range 1 11))
				(set seed (random_range 1 10))
				(set seed (random_range 1 11))
				(set seed (random_range 1 11))
				
			)
		)
		((player_action_test_look_relative_right)
			(begin
				(set seed (random_range 1 11))
				(set seed (random_range 1 10))
				(set seed (random_range 1 11))
				(set seed (random_range 1 10))
				(set seed (random_range 1 11))
				(set seed (random_range 1 10))
				(set seed (random_range 1 11))
				(set seed (random_range 1 11))
				
			)
		)
		
	)
)
;;next we'll spawn one of two possible wraiths in the map. Basically a dupe of the above but FAR simplified with the lack of attachments.
(script static void spawn_wraith
		(set WRAITH none)
			(cond 
				((> 0 (unit_get_health wraitha))
				(begin
					(object_create_anew wraitha)
					(ai_place driver/ghost)
					(sleep 2)
					(vehicle_load_magic wraitha driver (ai_actors driver/ghost))
					(sleep_until (vehicle_test_seat_list wraitha "wraith-driver" (ai_actors driver/ghost)) 5)
					(set WRAITH wraitha)
				)
				)
				((> 0 (unit_get_health wraithb))
				(begin
					(object_create_anew wraithb)
					(ai_place driver/ghost)
					(sleep 2)
					(vehicle_load_magic wraithb driver (ai_actors driver/ghost))
					(sleep_until (vehicle_test_seat_list wraithb "wraith-driver" (ai_actors driver/ghost)) 5)
					(set WRAITH wraithb)
				)
				)
			)
		(set vehilock 0)
)
(script static void spawn_ghost
		(set GHOST none)
			(cond 
				((> 0 (unit_get_health ghosta))
				(begin
					(object_create_anew ghosta)
					(ai_place driver/ghost)
					(sleep 2)
					(vehicle_load_magic ghosta driver (ai_actors driver/ghost))
					(sleep_until (vehicle_test_seat_list ghosta "G-driver" (ai_actors driver/ghost)) 5)
					(set GHOST ghosta)
				)
				)
				((> 0 (unit_get_health ghostb))
				(begin
					(object_create_anew ghostb)
					(ai_place driver/ghost)
					(sleep 2)
					(vehicle_load_magic ghostb driver (ai_actors driver/ghost))
					(sleep_until (vehicle_test_seat_list ghostb "G-driver" (ai_actors driver/ghost)) 5)
					(set GHOST ghostb)
				)
				)
				((> 0 (unit_get_health ghostc))
				(begin
					(object_create_anew ghostc)
					(ai_place driver/ghost)
					(sleep 2)
					(vehicle_load_magic ghostc driver (ai_actors driver/ghost))
					(sleep_until (vehicle_test_seat_list ghostc "G-driver" (ai_actors driver/ghost)) 5)
					(set GHOST ghostc)
				)
				)
				((> 0 (unit_get_health ghostd))
				(begin
					(object_create_anew ghostd)
					(ai_place driver/ghost)
					(sleep 2)
					(vehicle_load_magic ghostd driver (ai_actors driver/ghost))
					(sleep_until (vehicle_test_seat_list ghostd "G-driver" (ai_actors driver/ghost)) 5)
					(set GHOST ghostd)
				)
				)
			)
		(set vehilock 0)
)
(script continuous ghost_smasher
	(sleep_until (= 0 spawnlock) 5)   ;; if Vehicle_ID = 0, we know that we're not trying to spawn anything, and we won't delete it halfway through creating it.
	(sleep 45) ;; give a second to make sure everyone has time to get in their vehicles or whatever.
	(if (and (< -1 (unit_get_health ghosta)) (not (vehicle_test_seat_list ghosta "G-driver" (ai_actors 2_mombasaghosts))))
		(begin
		(unit_kill ghosta)
		(object_destroy ghosta)
		)
	)
	(if (and (< -1 (unit_get_health ghostb)) (not (vehicle_test_seat_list ghostb "G-driver" (ai_actors 2_mombasaghosts))))
		(begin
		(unit_kill ghostb)
		(object_destroy ghostb)
		)
	)
	(if (and (< -1 (unit_get_health ghostc)) (not (vehicle_test_seat_list ghostc "G-driver" (ai_actors 2_mombasaghosts))))
		(begin
		(unit_kill ghostc)
		(object_destroy ghostc)
		)
	)
	(if (and (< -1 (unit_get_health ghostd)) (not (vehicle_test_seat_list ghostd "G-driver" (ai_actors 2_mombasaghosts))))
		(begin
		(unit_kill ghostd)
		(object_destroy ghostd)
		)
	)
)
(script continuous wraith_smasher
	(sleep_until (= 0 spawnlock) 5)   ;; if Vehicle_ID = 0, we know that we're not trying to spawn anything 
	(sleep 45) ;; give a second to make sure everyone has time to get in their vehicles or whatever.
	(if (and (< -1 (unit_get_health wraitha)) (not (vehicle_test_seat_list wraitha "wraith-driver" (ai_actors 2_mombasaghosts))))
		(begin
		(unit_kill wraitha)
		(object_destroy wraitha)
		)
	)
	(if (and (< -1 (unit_get_health wraithb)) (not (vehicle_test_seat_list wraithb "wraith-driver" (ai_actors 2_mombasaghosts))))
		(begin
		(unit_kill wraithb)
		(object_destroy wraithb)
		)
	)
)

(script continuous do_i_need_a_car 
	(sleep_until (= 0 vehicle_id) 5)
	(sleep 15) 
	(if (or (= 2 (structure_bsp_index)) (= 4 (structure_bsp_index)) )
		(begin
			(cond 
							((> 2 ghostcount)
								(set vehicle_id 1)
							)
							((= 0 wraithcount)
								(set vehicle_id 2)
							)
							((> 3 ghostcount)
								(set vehicle_id 1)
							)
			)
		)
	)
	(if (= 3 (structure_bsp_index))
		(begin
			(cond 
							((> 2 ghostcount)
								(set vehicle_id 1)
							)	
			)
		)
	)
	(if (and (< 0 wraithcount) (< 2 ghostcount))
		(set vehicle_id 0)
	)
	(if (or (= 0 (structure_bsp_index)) (= 1 (structure_bsp_index)) (= 5 (structure_bsp_index)))
		(set vehicle_id 0)
	)
)

(script static void spawn_squad
;; This is a modified version of the below "spawn_encounter" code that is designed to be used by the startup encounters.
;; It is designed to place a small squad of 4 AI, so that the level isn't overloaded by an extra 2-3 full encounters 

	(if (= seed 1)
		(begin
			(ai_place cspawn/e-pr)
			(ai_place cspawn/e+pr)
			(ai_place cspawn/g+pp)
			(ai_place cspawn/g-pp)
		)
	)
	(if (= seed 2)
		(begin
			(ai_place cspawn/BF-BP)
			(ai_place cspawn/BF-BP)
			(ai_place cspawn/BF-BP)
			(ai_place cspawn/g-pp)
		)
	)
	(if (= seed 3)
		(begin
			(ai_place cspawn/BL-CB)
			(ai_place cspawn/BF+BR)
			(ai_place cspawn/j-pp)
			(ai_place cspawn/jSCB)
		)
	)
	(if (= seed 4)
		(begin
			(ai_place cspawn/e+CB)
			(ai_place cspawn/e-pr)
			(ai_place cspawn/S-PP)
			(ai_place cspawn/S+ND)
		)
	)
	(if (= seed 5)
		(begin
			(ai_place cspawn/BL+BS)
			(ai_place cspawn/BF+BR)
			(ai_place cspawn/GUND)
			(ai_place cspawn/g-pp)
		)
	)
	(if (= seed 6)
		(begin
			(ai_place cspawn/BL-CB)
			(ai_place cspawn/BF-BP)
			(ai_place cspawn/s+nd)
			(ai_place cspawn/j-pp)
		)
	)
	(if (= seed 7)
		(begin
			(ai_place cspawn/e+CB)
			(ai_place cspawn/g-pp)
			(ai_place cspawn/s+nd)
			(ai_place cspawn/s+nd)
		)
	)
	(if (= seed 8)
		(begin
			(ai_place cspawn/e+pr)
			(ai_place cspawn/e-pr)
			(ai_place cspawn/g+pp)
			(ai_place cspawn/g-pp)
		)
	)
	(if (= seed 9)
		(begin
			(ai_place cspawn/e+CB)
			(ai_place cspawn/e-pr)
			(ai_place cspawn/e-pr)
			(ai_place cspawn/j+pp)
		)
	)
	(if (= seed 10)
		(begin
			(ai_place cspawn/e+CB)
			(ai_place cspawn/g+pp)
			(ai_place cspawn/j+sh)
			(ai_place cspawn/j+sh)
		)
	)
	(set softlock 0)
)


(script static void spawn_encounter
		
		(print "cspawn start")
		(if (= 0 spawn_mode)  ;; this is a trigger we use when we want to spawn a smaller encounter. If set to 1 we only spawn the small group.
			(begin				
				(ai_place cspawn/s-pp)
				(ai_place cspawn/s-pp)	
				(ai_place cspawn/g-pp)  ;;; these always spawn. By placing more up here, we lessen potential variety 
				(ai_place cspawn/g+pp)	;;; but allow for a "half spawn" of the stronger characters below.
				(if (= (game_difficulty_get) hard) 
					(begin
						(ai_place cspawn/j-pp)				
						(ai_place cspawn/j-pp)
						(ai_place cspawn/e-pr)
						(ai_place cspawn/gund)		;; these will also spawn if the game is on heroic
					)
				)
				(if (= (game_difficulty_get) impossible) 
					(begin
						(ai_place cspawn/g+pp)
						(ai_place cspawn/j-pp)				
						(ai_place cspawn/j-pp)
						(ai_place cspawn/e+cb)
						(ai_place cspawn/s+nd)			;; or these will if set to legendary. 
						(ai_place cspawn/s+nd)
					)
				)	
			)
		)
		(if (= seed 1)
			(begin
				(ai_place cspawn/e-pr)
				 (ai_place cspawn/e+pr)
				(ai_place cspawn/g-pp)
				(ai_place cspawn/j-pp)
				(ai_place cspawn/j+sh)
			)
		)
		(if (= seed 2)
			(begin
				(ai_place cspawn/BF-BP)
				(ai_place cspawn/BF-BP)
				(ai_place cspawn/BL-CB)
				(ai_place cspawn/s+nd)
				(ai_place cspawn/jSCB)
				(ai_place cspawn/j-pp)
			)
		)
		(if (= seed 3)
			(begin
				(ai_place cspawn/BL-CB)
				(ai_place cspawn/BF+BR)
				(ai_place cspawn/Bf-BP)
				(ai_place cspawn/GUND)
				(ai_place cspawn/j-pp)
				(ai_place cspawn/jSCB)
			)
		)
		(if (= seed 4)
			(begin
				(ai_place cspawn/e+CB)
				(ai_place cspawn/e-pr)
				(ai_place cspawn/g+pp)
				(ai_place cspawn/S-PP)
				(ai_place cspawn/S+ND)
			)
		)
		(if (= seed 5)
			(begin
				(ai_place cspawn/BL+BS)
				(ai_place cspawn/BF+BR)
				(ai_place cspawn/GUND)
				(ai_place cspawn/GUND)				
				(ai_place cspawn/s+nd)
			)
		)
		(if (= seed 6)
			(begin
				(ai_place cspawn/BL-CB)
				(ai_place cspawn/BF-BP)
				(ai_place cspawn/BF-BP)
				(ai_place cspawn/s+nd)
				(ai_place cspawn/j-pp)
			)
		)
		(if (= seed 7)
			(begin
				(ai_place cspawn/e+CB)
				(ai_place cspawn/e+pr)
				(ai_place cspawn/g-pp)
				(ai_place cspawn/j+pp)
				(ai_place cspawn/j+sh)
			)
		)
		(if (= seed 8)
			(begin
				(ai_place cspawn/e+pr)
				(ai_place cspawn/e-pr)
				(ai_place cspawn/g+pp)
				(ai_place cspawn/jSCB)
				(ai_place cspawn/jSCB)
			)
		)
		(if (= seed 9)
			(begin
				(ai_place cspawn/e+CB)
				(ai_place cspawn/e-pr)
				(ai_place cspawn/e-pr)
				(ai_place cspawn/j+pp)
			)
		)
		(if (= seed 10)
			(begin
				(ai_place cspawn/EUES)
				(ai_place cspawn/e+CB)
				(ai_place cspawn/g+pp)
				(ai_place cspawn/j+sh)
				(ai_place cspawn/j+sh)
			)
		)
	(set softlock 0)
	(print "cspawn end")
)

(script continuous spawn_marines    ;; as spawn_marines is a continuous, in our startup script    "Preheat"    we put it to sleep remotely.
		(print "marine_spawn start")
		(if (> (ai_living_count hspawn) 3)
			(sleep -1)  ;; if there are more than 3 marines, the script sleeps indefinitely.
			(begin		;; if there are not more than 3 marines, it spawns one at random.
				(set tempint (random_range 1 10))
				(if (= tempint 1)
					(ai_place hspawn/MAR))
				(if (= tempint 2)
					(ai_place hspawn/MBR))
				(if (= tempint 3)
					(ai_place hspawn/OAR))
				(if (= tempint 4)
					(ai_place hspawn/OBR))
				(if (= tempint 5)
					(ai_place hspawn/M++))
				(if (= tempint 6)
					(ai_place hspawn/PSM))
				(if (= tempint 7)
					(ai_place hspawn/PSG))
				(if (= tempint 8)
					(ai_place hspawn/PHP))
				(if (= tempint 9)
					(ai_place hspawn/FMAR))
			)
		)
		(print "marine_spawn end")

)

(script static void grenade_refresh

	(set grenlock 1)
	(sleep_until (= 2 grenlock) 5)
	(sleep 1)
	(player_add_equipment p1 blank true)
	(set grenlock 3)

)


(script dormant escape
			(device_set_power gc1 1)
			(show_hud 1)
)
(script dormant health_pack
			(device_set_power gc1 1)
			(objects_attach p1 "" a0 "")
			(objects_detach p1 a0)
			(sleep 2)
			(object_create_anew a0)
			(show_hud 1)
)
(script dormant spawn_ps
	(show_hud 1)
	(if (not (unit_has_weapon p1 ps_obj))
		(begin
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_create_anew pistol)
			(objects_attach p1 "" pistol "")
			(sleep 1)
			(objects_detach p1 pistol)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)
)
(script dormant spawn_ar
	(show_hud 1)
	(if (not (unit_has_weapon p1 ar_obj))
		(begin
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_create_anew assault_rifle)
			(objects_attach p1 "" assault_rifle "")
			(sleep 1)
			(objects_detach p1 assault_rifle)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)
)
(script dormant spawn_br
	(show_hud 1)
	(if (not (unit_has_weapon p1 br_obj))
		(begin	
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_create_anew battle_rifle)
			(objects_attach p1 "" battle_rifle "")
			(sleep 1)
			(objects_detach p1 battle_rifle)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)
)
(script dormant spawn_sg
	(show_hud 1)
	(if (not (unit_has_weapon p1 sg_obj))
		(begin	
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_destroy shotgun)
			(object_create_anew shotgun)
			(objects_attach p1 "" shotgun "")
			(sleep 1)
			(objects_detach p1 shotgun)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)
)
(script dormant spawn_smg
	(show_hud 1)
	(if (not (unit_has_weapon p1 smg_obj))
		(begin	
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_create_anew smg)
			(objects_attach p1 "" smg "")
			(sleep 1)
			(objects_detach p1 smg)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)
)
(script dormant spawn_sr
	(show_hud 1)
	(if (not (unit_has_weapon p1 sr_obj))
		(begin	
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_create_anew sniper_rifle)
			(objects_attach p1 "" sniper_rifle "")
			(sleep 1)
			(objects_detach p1 sniper_rifle)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)
)
(script dormant spawn_dr
	(show_hud 1)
	(if (not (unit_has_weapon p1 dr_obj))
		(begin
			(grenade_refresh)
			(sleep_until (= 3 grenlock) 5)
			(object_create_anew dmr)
			(objects_attach p1 "" dmr "")
			(sleep 1)
			(objects_detach p1 dmr)
					(device_set_power gc1 1)
		)
		(begin
					(device_set_power gc1 1)
		)
	)		
)
(script startup Preheat
		(sleep -1 spawn_marines)   ;; immediately put the spawn_marines to sleep, so that it starts in the OFF position.
		(set developer_mode 127) ;; allows for viewing debug messages. Disable for final build.
		
		;; whoa, thar be dragons. Some outdated save systems here.
		;; The new FoM loader prevents the need for the core.bin saves
		
;;		(if (= 1 (get_digital_forward_throttle 2))
;;			(begin
;;				(set_digital_forward_throttle 2 0)
;;				(core_load)			
;;			)
;;		)
		
		;; this is a setupAI in bsp 0 where the game begins.
		;; each time a BSP loads, setup AI are added by the mr_resetti script
		;; this is a copy of the BSP0 setup in mr_resetti.		
		(ai_kill_silent loadout)
		(object_destroy lagship)
		(set softlock 1)
		(spawn_squad)
		(sleep_until (= 0 softlock) 5)
		(ai_migrate cspawn 0_startup/s1)
		(ai_teleport_to_starting_location 0_startup/s1)
		(set softlock 1)
		(spawn_squad)
		(sleep_until (= 0 softlock) 5)
		(ai_migrate cspawn 0_startup/s2)
		(ai_teleport_to_starting_location 0_startup/s2)
		(set softlock 1)
		(spawn_squad)
		(sleep_until (= 0 softlock) 5)
		(ai_migrate cspawn 0_startup/s3)
		(ai_teleport_to_starting_location 0_startup/s3)
		;; end setup AI 
		
		(cond
		
			((= (game_difficulty_get_real) easy)
			(set ally_level 8)
			)
			((= (game_difficulty_get_real) normal)
			(set ally_level 7)
			)
			((= (game_difficulty_get_real) hard)
			(set ally_level 5)
			)
			((= (game_difficulty_get_real) impossible)
			(set ally_level 4)
			)
		)
		(objects_attach (GR0) "" gc1 "")
		(objects_attach (AR0) "" ac1 "")
		(objects_detach (GR0) gc1)
		(objects_detach (AR0) ac1)
		(object_create_anew 0_grenade)
		(object_create_anew 1_grenade)
		(object_create_anew 2_grenade)
		(object_create_anew 3_grenade)
		(set p1 (unit (list_get (players) 0)))
		(ai_allegiance human player)
		
		
		
		(set start true)
)	


(script static void unstick_u
	(objects_detach uship wraitha)
	(objects_detach uship wraithb)
	(objects_detach uship ghosta)
	(objects_detach uship ghostb)
	(objects_detach uship ghostc)
	(objects_detach uship ghostd)
)

(script static void unstick_v
	(objects_detach uship wraitha)
	(objects_detach uship wraithb)
	(objects_detach uship ghosta)
	(objects_detach uship ghostb)
	(objects_detach uship ghostc)
	(objects_detach uship ghostd)
)

(script static void unstick_w
	(objects_detach wship wraitha)
	(objects_detach wship wraithb)
	(objects_detach wship ghosta)
	(objects_detach wship ghostb)
	(objects_detach wship ghostc)
	(objects_detach wship ghostd)
)

(script static void unstick_x
	(objects_detach xship wraitha)
	(objects_detach xship wraithb)
	(objects_detach xship ghosta)
	(objects_detach xship ghostb)
	(objects_detach xship ghostc)
	(objects_detach xship ghostd)
)

(script static void unstick_y
	(objects_detach yship wraitha)
	(objects_detach yship wraithb)
	(objects_detach yship ghosta)
	(objects_detach yship ghostb)
	(objects_detach yship ghostc)
	(objects_detach yship ghostd)
)

(script static void unstick_z
	(objects_detach zship wraitha)
	(objects_detach zship wraithb)
	(objects_detach zship ghosta)
	(objects_detach zship ghostb)
	(objects_detach zship ghostc)
	(objects_detach zship ghostd)
)



(script static void spawn_uship
	(print "softlock uship start")
	(vehicle_unload ug "")
	(sleep 10)
	(object_destroy UCR)
	(object_destroy UCL)
	(object_destroy ug)
	(object_destroy utl)
	(object_destroy utr)
	(object_destroy uship)
	(object_create uship)
	(object_create ucr)
	(object_create ucl)
	(object_create utr)
	(object_create utl)
	(object_create ug)
	(unit_close utr)
	(unit_close utl)
	(unit_close ug)
	(objects_attach uship "gravlift" ug "")
	(objects_attach uship "troop_door_right" utr "")
	(objects_attach uship "troop_door_left" utl "")
	(objects_attach uship "turret_door_left" ucr "")
	(objects_attach uship "turret_door_right" ucl "")
	
	(cond 
	
					((= 0 vehicle_id)
						(sleep 1)
					)
					((= 1 vehicle_id)
						(begin
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach uship "small_cargo01" GHOST "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach uship "small_cargo02" GHOST "")
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
					((= 2 vehicle_id)	
						(begin
							(set vehilock 1)
							(spawn_wraith)
							(sleep_until (= 0 vehilock) 5)
							(if (!= WRAITH none)
								(begin
									(objects_attach uship "large_cargo" WRAITH "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)

	)
	(set softlock 0)
	(print "softlock uship end")
)

(script static void spawn_vship
	(print "softlock vship start")
	(vehicle_unload vg "")
	(sleep 10)
	(object_destroy vCR)
	(object_destroy vCL)
	(object_destroy vg)
	(object_destroy vtl)
	(object_destroy vtr)
	(object_destroy vship)
	(object_create vship)
	(object_create vcr)
	(object_create vcl)
	(object_create vtr)
	(object_create vtl)
	(object_create vg)
	(unit_close vtr)
	(unit_close vtl)
	(unit_close vg)
	(objects_attach vship "gravlift" vg "")
	(objects_attach vship "troop_door_right" vtr "")
	(objects_attach vship "troop_door_left" vtl "")
	(objects_attach vship "turret_door_left" vcr "")
	(objects_attach vship "turret_door_right" vcl "")
	
	
	(cond 
					((= 0 vehicle_id)
						(sleep 1)
					)
					((= 1 vehicle_id)
						(begin
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach vship "small_cargo01" GHOST "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach vship "small_cargo02" GHOST "")
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
					((= 2 vehicle_id)	
						(begin
							(set vehilock 1)
							(spawn_wraith)
							(sleep_until (= 0 vehilock) 5)
							(if (!= WRAITH none)
								(begin
									(objects_attach vship "large_cargo" WRAITH "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
	)
	(set softlock 0)
	(print "softlock vship end")
)

(script static void spawn_wship
	(print "softlock wship start")
	(vehicle_unload wg "")
	(sleep 10)
	(object_destroy wCR)
	(object_destroy wCL)
	(object_destroy wg)
	(object_destroy wtl)
	(object_destroy wtr)
	(object_destroy wship)
	(object_create wship)
	(object_create wcr)
	(object_create wcl)
	(object_create wtr)
	(object_create wtl)
	(object_create wg)
	(unit_close wtr)
	(unit_close wtl)
	(unit_close wg)
	(objects_attach wship "gravlift" wg "")
	(objects_attach wship "troop_door_right" wtr "")
	(objects_attach wship "troop_door_left" wtl "")
	(objects_attach wship "turret_door_left" wcr "")
	(objects_attach wship "turret_door_right" wcl "")
	
	
	(cond 
					((= 0 vehicle_id)
						(sleep 1)
					)
					((= 1 vehicle_id)
						(begin
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach wship "small_cargo01" GHOST "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach wship "small_cargo02" GHOST "")
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
					((= 2 vehicle_id)	
						(begin
							(set vehilock 1)
							(spawn_wraith)
							(sleep_until (= 0 vehilock) 5)
							(if (!= WRAITH none)
								(begin
									(objects_attach wship "large_cargo" WRAITH "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
	)
	(set softlock 0)
	(print "softlock wship end")
)

(script static void spawn_xship
	(vehicle_unload xg "")
	(sleep 10)
	(object_destroy xCR)
	(object_destroy xCL)
	(object_destroy xg)
	(object_destroy xtl)
	(object_destroy xtr)
	(object_destroy xship)
	(object_create xship)
	(object_create xcr)
	(object_create xcl)
	(object_create xtr)
	(object_create xtl)
	(object_create xg)
	(unit_close xtr)
	(unit_close xtl)
	(unit_close xg)
	(objects_attach xship "gravlift" xg "")
	(objects_attach xship "troop_door_right" xtr "")
	(objects_attach xship "troop_door_left" xtl "")
	(objects_attach xship "turret_door_left" xcr "")
	(objects_attach xship "turret_door_right" xcl "")
	
	
	(cond 
					((= 0 vehicle_id)
						(sleep 1)
					)
					((= 1 vehicle_id)
						(begin
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach xship "small_cargo01" GHOST "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach xship "small_cargo02" GHOST "")
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
					((= 2 vehicle_id)	
						(begin
							(set vehilock 1)
							(spawn_wraith)
							(sleep_until (= 0 vehilock) 5)
							(if (!= WRAITH none)
								(begin
									(objects_attach xship "large_cargo" WRAITH "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
	)
	(set softlock 0)
)

(script static void spawn_yship
	(vehicle_unload yg "")
	(sleep 10)
	(object_destroy yCR)
	(object_destroy yCL)
	(object_destroy yg)
	(object_destroy ytl)
	(object_destroy ytr)
	(object_destroy yship)
	(object_create yship)
	(object_create ycr)
	(object_create ycl)
	(object_create ytr)
	(object_create ytl)
	(object_create yg)
	(unit_close ytr)
	(unit_close ytl)
	(unit_close yg)
	(objects_attach yship "gravlift" yg "")
	(objects_attach yship "troop_door_right" ytr "")
	(objects_attach yship "troop_door_left" ytl "")
	(objects_attach yship "turret_door_left" ycr "")
	(objects_attach yship "turret_door_right" ycl "")
	
	
	(cond 
					((= 0 vehicle_id)
						(sleep 1)
					)
					((= 1 vehicle_id)
						(begin
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach yship "small_cargo01" GHOST "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach yship "small_cargo02" GHOST "")
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
					((= 2 vehicle_id)	
						(begin
							(set vehilock 1)
							(spawn_wraith)
							(sleep_until (= 0 vehilock) 5)
							(if (!= WRAITH none)
								(begin
									(objects_attach yship "large_cargo" WRAITH "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
	)
	(set softlock 0)
)

(script static void spawn_zship
	(vehicle_unload zg "")
	(sleep 10)
	(object_destroy zCR)
	(object_destroy zCL)
	(object_destroy zg)
	(object_destroy ztl)
	(object_destroy ztr)
	(object_destroy zship)
	(object_create zship)
	(object_create zcr)
	(object_create zcl)
	(object_create ztr)
	(object_create ztl)
	(object_create zg)
	(unit_close ztr)
	(unit_close ztl)
	(unit_close zg)
	(objects_attach zship "gravlift" zg "")
	(objects_attach zship "troop_door_right" ztr "")
	(objects_attach zship "troop_door_left" ztl "")
	(objects_attach zship "turret_door_left" zcr "")
	(objects_attach zship "turret_door_right" zcl "")
	
	
	(cond 
					((= 0 vehicle_id)
						(sleep 1)
					)
					((= 1 vehicle_id)
						(begin
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach zship "small_cargo01" GHOST "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehilock 1)
							(spawn_ghost)
							(sleep_until (= 0 vehilock) 5)
							(if (!= GHOST none)
								(begin
									(objects_attach zship "small_cargo02" GHOST "")
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
					((= 2 vehicle_id)	
						(begin
							(set vehilock 1)
							(spawn_wraith)
							(sleep_until (= 0 vehilock) 5)
							(if (!= WRAITH none)
								(begin
									(objects_attach zship "large_cargo" WRAITH "" )
									(ai_migrate driver/ghost 2_mombasaghosts)
								)
							)
							(set vehicle_id 0)
						)
					)
	)
	(set softlock 0)
)


(script continuous sp_0turf
	
	(sleep -1)
	(print "spawn 0turf")
	(set softlock 1)
	(spawn_uship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic ug "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 0_turf/s)
	(set spawnlock 0)
	(print "spawnlock off turf")
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport uship 0_oldtown)
			(recording_play uship 0_oldtownturf)
			(sleep_until (> 800 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 0_turf 0)
			(vehicle_unload ug "")
			(ai_attack 0_turf)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport uship 0_turf)
			(recording_play uship 0_turf)
			(sleep_until (> 910 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 0_turf 0)
			(vehicle_unload ug "")
			(ai_attack 0_turf)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(ai_migrate 0_turf/s 0_turf/c)
)	
(script continuous sp_0courtyard
	
	(sleep -1)
	(print "spawn 0courtyard")
	(set softlock 1)
	(spawn_vship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic vg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 0_courtyard/s)
	(set spawnlock 0)
	(print "spawnlock off courtyard")
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport vship 0_courtyardA)
			(recording_play vship 0_courtyardA)
			(sleep_until (> 735 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 0_courtyard 0)
			(vehicle_unload vg "")
			(ai_attack 0_courtyard)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport vship 0_courtyardB)
			(recording_play vship 0_courtyardB)
			(sleep_until (> 685 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 0_courtyard 0)
			(vehicle_unload vg "")
			(ai_attack 0_courtyard)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(ai_migrate 0_courtyard/s 0_courtyard/c)
)	
(script continuous sp_0jalley
	
	(sleep -1)
	(print "spawn 0jalley")
	(set softlock 1)
	(spawn_wship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic wg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 0_jalley/s)
	(set spawnlock 0)
	(print "spawnlock off jalley")
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin	
			(object_teleport wship 0_overpass)
			(recording_play wship 0_overpass)
			(sleep_until (> 705 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 0_jalley 0)
			(vehicle_unload wg "")
			(ai_attack 0_jalley)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin	
			(object_teleport wship 0_oldtown)
			(recording_play wship 0_oldtown)
			(sleep_until (> 830 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 0_jalley 0)
			(vehicle_unload wg "")
			(ai_attack 0_jalley)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(ai_migrate 0_jalley/s 0_jalley/c)
)	
(script continuous sp_1headlong
	(sleep -1)
	(set softlock 1)
	(spawn_uship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic ug "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 1_headlong/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport uship 1_headlonga)
			(recording_play uship 1_headlonga)
			(sleep_until (> 715 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 1_headlong 0)
			(vehicle_unload ug "")
			(ai_attack 1_headlong)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport uship 1_headlongb)
			(recording_play uship 1_headlongb)
			(sleep_until (> 905 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 1_headlong 0)
			(vehicle_unload ug "")
			(ai_attack 1_headlong)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(ai_migrate 1_headlong/s 1_headlong/c)
)	
(script continuous sp_1terminal
	(sleep -1)
	(set softlock 1)
	(spawn_vship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic vg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 1_terminal/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport vship 1_terma)
			(recording_play vship 1_terma)
			(sleep_until (> 870 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 1_terminal 0)
			(vehicle_unload vg "")
			(ai_attack 1_terminal)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport vship 1_termb)
			(recording_play vship 1_termb)
			(sleep_until (> 1280 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 1_terminal 0)
			(vehicle_unload vg "")
			(ai_attack 1_terminal)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(ai_migrate 1_terminal/s 1_terminal/c)
)	

(script continuous sp_2mombasarear
	(sleep -1)
	(set softlock 1)
	(spawn_uship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic ug "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 2_mombasarear/s)
	(set spawnlock 0)
	(set tempint (random_range 1 4))
	(if (= 1 tempint) 
		(begin
			(object_teleport uship 2_newmombasaA1)
			(recording_play uship 2_newmombasaA1)
			(sleep_until (> 955 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 2_mombasarear 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 2_newmombasa)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport uship 2_newmombasaA)
			(recording_play uship 2_newmombasaA2)
			(sleep_until (> 965 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 2_mombasarear 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 2_newmombasa)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport uship 2_newmombasaA)
			(recording_play uship 2_newmombasaA3)
			(sleep_until (> 1190 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 2_mombasarear 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 2_newmombasa)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(ai_migrate 2_mombasarear/s 2_mombasarear/c)
)
(script continuous sp_2newmombasa
	(sleep -1)
	(set softlock 1)
	(spawn_vship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic vg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 2_newmombasa/s)
	(set spawnlock 0)
	(set tempint (random_range 1 4))
	(if (= 1 tempint) 
		(begin
			(object_teleport vship 2_newmombasaB)
			(recording_play vship 2_newmombasaB1)
			(sleep_until (> 965 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 2_newmombasa 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 2_mombasarear)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport vship 2_newmombasaB)
			(recording_play vship 2_newmombasaB2)
			(sleep_until (> 1280 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 2_newmombasa 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 2_mombasarear)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport vship 2_newmombasaB)
			(recording_play vship 2_newmombasaB3)
			(sleep_until (> 780 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 2_newmombasa 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 2_mombasarear)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(ai_migrate 2_newmombasa/s 2_newmombasa/c)
)
(script continuous sp_2loadingbay
	(sleep -1)
	(set softlock 1)
	(spawn_wship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic wg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 2_loadingbay/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport wship 2_loading)
			(recording_play wship 2_loading1)
			(sleep_until (> 1190 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 2_loadingbay 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 2_loadingbay)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport wship 2_loading)
			(recording_play wship 2_loading2)
			(sleep_until (> 880 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 2_loadingbay 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 2_loadingbay)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(ai_migrate 2_loadingbay/s 2_loadingbay/c)
)
(script continuous sp_2chronoparking
	(sleep -1)
	(set softlock 1)
	(spawn_xship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic xg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 2_chronoparking/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport xship 2_chronoa)
			(recording_play xship 2_chronoa1)
			(sleep_until (> 1060 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 2_chronoparking 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 2_chronoparking)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport xship 2_chronoa)
			(recording_play xship 2_chronoa2)
			(sleep_until (> 1005 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 2_chronoparking 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 2_chronoparking)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(ai_migrate 2_chronoparking/s 2_chronoparking/c)
)
(script continuous sp_2chronorear
	(sleep -1)
	(set softlock 1)
	(spawn_yship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic yg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 2_chronorear/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport yship 2_chronob)
			(recording_play yship 2_chronob1)
			(sleep_until (> 1305 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 2_chronorear 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 2_chronorear)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport yship 2_chronob)
			(recording_play yship 2_chronob2)
			(sleep_until (> 980 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 2_chronorear 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 2_chronorear)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(ai_migrate 2_chronorear/s 2_chronorear/c)
)

(script continuous sp_3front
	(sleep -1)
	(set softlock 1)
	(spawn_xship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic xg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 3_front/s)
	(set spawnlock 0)
	(set tempint (random_range 1 6))
	(if (= 1 tempint) 
		(begin
			(object_teleport xship 3_frontA)
			(recording_play xship 3_frontA1)
			(sleep_until (> 930 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 3_front 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 3_front)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport xship 3_fronta)
			(recording_play xship 3_fronta2)
			(sleep_until (> 760 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 3_front 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 3_front)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport xship 3_fronta3)
			(recording_play xship 3_fronta3)
			(sleep_until (> 740 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 3_front 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 3_front)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 4 tempint) 
		(begin
			(object_teleport xship 3_frontb)
			(recording_play xship 3_frontb1)
			(sleep_until (> 910 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 3_front 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 3_front)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 5 tempint) 
		(begin
			(object_teleport xship 3_frontb)
			(recording_play xship 3_frontb2)
			(sleep_until (> 860 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 3_front 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 3_front)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(ai_migrate 3_front/s 3_front/c)
)
(script continuous sp_3back
	(sleep -1)
	(set softlock 1)
	(spawn_yship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic yg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 3_back/s)
	(set spawnlock 0)
	(set tempint (random_range 1 4))
	(if (= 1 tempint) 
		(begin
			(object_teleport yship 3_backA)
			(recording_play yship 3_backA1)
			(sleep_until (> 790 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 3_back 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 3_back)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport yship 3_backa2)
			(recording_play yship 3_backa2)
			(sleep_until (> 765 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 3_back 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 3_back)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport yship 3_backa2)
			(recording_play yship 3_backa3)
			(sleep_until (> 1025 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 3_back 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 3_back)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(ai_migrate 3_back/s 3_back/c)
)

(script continuous sp_4front
	(sleep -1)
	(set softlock 1)
	(spawn_uship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic ug "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 4_front/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport uship 4_cityscapeC)
			(recording_play uship 4_cityscapeC1)
			(sleep_until (> 965 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 4_front 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 4_front)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport uship 4_cityscapeC2)
			(recording_play uship 4_cityscapeC2)
			(sleep_until (> 975 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 4_front 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 4_front)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(ai_migrate 4_front/s 4_front/c)
)
(script continuous sp_4mid
	(sleep -1)
	(set softlock 1)
	(spawn_vship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic vg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 4_mid/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport vship 4_bridgeA)
			(recording_play vship 4_bridge1)
			(sleep_until (> 965 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 4_mid 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 4_mid)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport vship 4_bridgeB)
			(recording_play vship 4_bridge2)
			(sleep_until (> 1200 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 4_mid 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 4_mid)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(ai_migrate 4_mid/s 4_mid/c)
)
(script continuous sp_4back
	(sleep -1)
	(set softlock 1)
	(spawn_wship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic wg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 4_back/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport wship 4_cityscapeA)
			(recording_play wship 4_cityscapeA4)
			(sleep_until (> 820 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 4_back 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 4_back)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport wship 4_cityscapeA)
			(recording_play wship 4_cityscapeA5)
			(sleep_until (> 950 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 4_back 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 4_back)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(ai_migrate 4_back/s 4_back/c)
)
(script continuous sp_4A
	(sleep -1)
	(set softlock 1)
	(spawn_xship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic xg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 4_a/s)
	(set spawnlock 0)
	(set tempint (random_range 1 5))
	(if (= 1 tempint) 
		(begin
			(object_teleport xship 4_cityscapeA)
			(recording_play xship 4_cityscapeA1)
			(sleep_until (> 1020 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 4_a 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 4_a)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport xship 4_cityscapeA2)
			(recording_play xship 4_cityscapeA2)
			(sleep_until (> 1050 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 4_a 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 4_a)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport xship 4_cityscapeA22)
			(recording_play xship 4_cityscapeA2)
			(sleep_until (> 1050 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 4_a 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 4_a)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(if (= 4 tempint) 
		(begin
			(object_teleport xship 4_cityscapeA2)
			(recording_play xship 4_cityscapeA3)
			(sleep_until (> 1010 (recording_time xship)) 5)
			(unit_open xg)
			(sleep 30)
			(ai_braindead 4_a 0)
			(vehicle_unload xg "")
			(unstick_x)
			(ai_attack 4_a)
			(sleep_until (= 0 (recording_time xship)) 5)
				(object_destroy xship)
			(sleep 15)
		)
	)
	(ai_migrate 4_a/s 4_a/c)
)
(script continuous sp_4B
	(sleep -1)
	(set softlock 1)
	(spawn_yship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic yg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 4_B/s)
	(set spawnlock 0)
	(set tempint (random_range 1 5))
	(if (= 1 tempint) 
		(begin
			(object_teleport yship 4_cityscapeB1)
			(recording_play yship 4_cityscapeB3)
			(sleep_until (> 870 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 4_b 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 4_B)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport yship 4_cityscapeB1)
			(recording_play yship 4_cityscapeB4)
			(sleep_until (> 1140 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 4_b 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 4_B)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport yship 4_cityscapeB)
			(recording_play yship 4_cityscapeB5)
			(sleep_until (> 750 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 4_b 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 4_B)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(if (= 4 tempint) 
		(begin
			(object_teleport yship 4_cityscapeB)
			(recording_play yship 4_cityscapeB6)
			(sleep_until (> 1050 (recording_time yship)) 5)
			(unit_open yg)
			(sleep 30)
			(ai_braindead 4_b 0)
			(vehicle_unload yg "")
			(unstick_y)
			(ai_attack 4_B)
			(sleep_until (= 0 (recording_time yship)) 5)
				(object_destroy yship)
			(sleep 15)
		)
	)
	(ai_migrate 4_b/s 4_b/c)
)
(script continuous sp_4C
	(sleep -1)
	(set softlock 1)
	(spawn_zship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic zg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 4_c/s)
	(set spawnlock 0)
	(set tempint (random_range 1 3))
	(if (= 1 tempint) 
		(begin
			(object_teleport zship 4_cityscapeB1)
			(recording_play zship 4_cityscapeB1)
			(sleep_until (> 910 (recording_time zship)) 5)
			(unit_open zg)
			(sleep 30)
			(ai_braindead 4_c 0)
			(vehicle_unload zg "")
			(unstick_z)
			(ai_attack 4_c)
			(sleep_until (= 0 (recording_time zship)) 5)
				(object_destroy zship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport zship 4_cityscapeB1)
			(recording_play zship 4_cityscapeB2)
			(sleep_until (> 930 (recording_time zship)) 5)
			(unit_open zg)
			(sleep 30)
			(ai_braindead 4_c 0)
			(vehicle_unload zg "")
			(unstick_z)
			(ai_attack 4_c)
			(sleep_until (= 0 (recording_time zship)) 5)
				(object_destroy zship)
			(sleep 15)
		)
	)
	(ai_migrate 4_c/s 4_c/c)
)
(script continuous sp_5A
	(sleep -1)
	(set softlock 1)
	(spawn_uship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic ug "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 5_A/s)
	(set spawnlock 0)
	(set tempint (random_range 1 5))
	(if (= 1 tempint) 
		(begin
			(object_teleport uship 5_tombstoneA)
			(recording_play uship 5_tombstoneA1)
			(sleep_until (> 850 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 5_a 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 5_A)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport uship 5_tombstoneA)
			(recording_play uship 5_tombstoneA2)
			(sleep_until (> 930 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 5_a 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 5_A)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport uship 5_tombstoneB1)
			(recording_play uship 5_tombstoneB1)
			(sleep_until (> 760 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 5_a 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 5_A)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(if (= 4 tempint) 
		(begin
			(object_teleport uship 5_tombstoneB)
			(recording_play uship 5_tombstoneB2)
			(sleep_until (> 1180 (recording_time uship)) 5)
			(unit_open ug)
			(sleep 30)
			(ai_braindead 5_a 0)
			(vehicle_unload ug "")
			(unstick_u)
			(ai_attack 5_A)
			(sleep_until (= 0 (recording_time uship)) 5)
				(object_destroy uship)
			(sleep 15)
		)
	)
	(ai_migrate 5_a/s 5_a/c)		
)
(script continuous sp_5B
	(sleep -1)
	(set softlock 1)
	(spawn_vship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic vg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 5_B/s)
	(set spawnlock 0)
	(set tempint (random_range 1 4))
	(if (= 1 tempint) 
		(begin
			(object_teleport vship 5_zanzibarA)
			(recording_play vship 5_zanzibarA1)
			(sleep_until (> 635 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 5_b 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 5_b)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport vship 5_zanzibarA)
			(recording_play vship 5_zanzibarA2)
			(sleep_until (> 810 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 5_b 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 5_b)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport vship 5_zanzibarA)
			(recording_play vship 5_zanzibarA3)
			(sleep_until (> 760 (recording_time vship)) 5)
			(unit_open vg)
			(sleep 30)
			(ai_braindead 5_b 0)
			(vehicle_unload vg "")
			(unstick_v)
			(ai_attack 5_b)
			(sleep_until (= 0 (recording_time vship)) 5)
				(object_destroy vship)
			(sleep 15)
		)
	)
	(ai_migrate 5_b/s 5_b/c)
)
(script continuous sp_5C
	(sleep -1)
	(set softlock 1)
	(spawn_wship)
	(sleep_until (= 0 softlock) 5)
	(set softlock 1)
	(spawn_encounter)
	(sleep_until (= 0 softlock) 5)
	(vehicle_load_magic wg "" (ai_actors cspawn))
	(ai_braindead cspawn 1) 
	(ai_migrate cspawn 5_C/s)
	(set spawnlock 0)
	(set tempint (random_range 1 4))
	(if (= 1 tempint) 
		(begin
			(object_teleport wship 5_zanzibarB)
			(recording_play wship 5_zanzibarB1)
			(sleep_until (> 635 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 5_c 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 5_C)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(if (= 2 tempint) 
		(begin
			(object_teleport wship 5_zanzibarB)
			(recording_play wship 5_zanzibarB2)
			(sleep_until (> 810 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 5_c 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 5_C)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(if (= 3 tempint) 
		(begin
			(object_teleport wship 5_zanzibarB)
			(recording_play wship 5_zanzibarB3)
			(sleep_until (> 760 (recording_time wship)) 5)
			(unit_open wg)
			(sleep 30)
			(ai_braindead 5_c 0)
			(vehicle_unload wg "")
			(unstick_w)
			(ai_attack 5_C)
			(sleep_until (= 0 (recording_time wship)) 5)
				(object_destroy wship)
			(sleep 15)
		)
	)
	(ai_migrate 5_c/s 5_c/c)
)

(script continuous sp_0scarab
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 0_scarab/s)
	(set spawnlock 0)
	(ai_teleport_to_starting_location 0_scarab/s)
	(ai_migrate 0_scarab/s 0_scarab/c)
)


(script continuous sp_1interiors
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 1_interior/spawn)
	(set spawnlock 0)
	(ai_teleport_to_starting_location 1_interior/spawn)
	(ai_migrate 1_interior/spawn 1_interior/headlong)
)
(script continuous sp_1parking
	(sleep -1)
	(set softlock 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(ai_migrate cspawn 1_parking/spawn)
	(set spawnlock 0)
	(ai_teleport_to_starting_location 1_parking/spawn)
	(ai_migrate 1_parking/spawn 1_parking/terminal)
	(sleep 10)
)
(script continuous sp_1ivory
	(sleep -1)
	(set softlock 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(cond
		(
		(not (volume_test_objects 1ivorytop (players)))
			(ai_migrate cspawn 1_ivory/spawntop)					
			(ai_teleport_to_starting_location 1_ivory/spawntop)
			(ai_migrate 1_ivory/spawntop 1_ivory/tower)				
		)
		(
		(not (volume_test_objects 1ivoryside (players)))
			(ai_migrate cspawn 1_ivory/spawnside)					
			(ai_teleport_to_starting_location 1_ivory/spawnside)
			(ai_migrate 1_ivory/spawnside 1_ivory/tower)			
		)
		(
		(not (volume_test_objects 1ivoryback (players)))
			(ai_migrate cspawn 1_ivory/spawnback)	
			(ai_teleport_to_starting_location 1_ivory/spawnback)
			(ai_migrate 1_ivory/spawnback 1_ivory/tower)			
		)	
		(
		(not (volume_test_objects 1ivoryfront (players)))
			(ai_migrate cspawn 1_ivory/spawnfront)					
			(ai_teleport_to_starting_location 1_ivory/spawnfront)
			(ai_migrate 1_ivory/spawnfront 1_ivory/tower)			
		)
	)
	(set spawnlock 0)
)



(script continuous sp_2interiorA
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 2_interiorA/s)
	(set spawnlock 0)
	(ai_teleport_to_starting_location 2_interiorA/s)
	(ai_migrate 2_interiorA/s 2_interiorA/c)
)

(script continuous sp_2interiorB
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 2_interiorB/s)
	(set spawnlock 0)
	(ai_teleport_to_starting_location 2_interiorB/s)
	(ai_migrate 2_interiorB/s 2_interiorB/c)
)

(script continuous sp_3mid
	(sleep -1)
	(set softlock 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(ai_migrate cspawn 3_mid/s)
	(set spawnlock 0)
	(ai_teleport_to_starting_location 3_mid/s)
	(ai_migrate 3_mid/s 3_mid/c)
)

(script continuous sp_4interiorA
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)	
	(ai_migrate cspawn 4_interiorA/s1)	
	(ai_teleport_to_starting_location 4_interiorA/s1)
	(ai_migrate 4_interiorA/s1 4_interiorA/c)
	(set softlock 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 4_interiorA/s2)	
	(ai_teleport_to_starting_location 4_interiorA/s2)
	(ai_migrate 4_interiorA/s2 4_interiorA/c)
)

(script continuous sp_4interiorB
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)	
	(ai_migrate cspawn 4_interiorB/s1)	
	(ai_teleport_to_starting_location 4_interiorB/s1)
	(ai_migrate 4_interiorB/s1 4_interiorB/c)
	(set softlock 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 4_interiorB/s2)	
	(ai_teleport_to_starting_location 4_interiorB/s2)
	(ai_migrate 4_interiorB/s2 4_interiorB/c)
)

(script continuous sp_4interiorC
	(sleep -1)
	(set softlock 1)
	(set spawn_mode 1)
	(spawn_encounter)	
	(sleep_until (= 0 softlock) 5)
	(set spawn_mode 0)
	(ai_migrate cspawn 4_interiorC/s)	
	(ai_teleport_to_starting_location 4_interiorC/s)
	(ai_migrate 4_interiorC/s 4_interiorC/c)
)






(script continuous spawnWIZARD
	(sleep_until (< 0 seed) 5)
	(if (= 0 (structure_bsp_index))
		(begin
			
			(if (and (< (ai_living_count 0_scarab) 3) (not (volume_test_objects 0scarab (players))) (volume_test_objects 0turf (players)) (> 18 (ai_count0)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_0scarab)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
		
			(if (and (< (ai_living_count 0_turf) 4)(or (volume_test_objects 0turf (players)) (volume_test_objects 0town (players)) (volume_test_objects 0alley (players))) (> 18 (ai_count0)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					
					(if (> 0 (unit_get_health uship))
						(begin
							(set spawnlock 1)
							(wake sp_0turf)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 0_courtyard) 4)(or (volume_test_objects 0base (players)) (volume_test_objects 0court (players)) (volume_test_objects 0overpass (players)) (volume_test_objects 0exit (players)) ) (> 18 (ai_count0)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(if (> 0 (unit_get_health vship))
						(begin
							(set spawnlock 1)
							(wake sp_0courtyard)							
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)
			(if (and (< (ai_living_count 0_jalley) 4)(or (volume_test_objects 0overpass (players)) (volume_test_objects 0court (players)) (volume_test_objects 0town (players))) (> 18 (ai_count0)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(if (> 0 (unit_get_health wship))
						(begin
							(set spawnlock 1)
							(wake sp_0jalley)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)
		)
	)
	(if (= 1 (structure_bsp_index))
		(begin
			(if (and (< (ai_living_count 1_ivory) 4) (volume_test_objects 1ivory (players)) (volume_test_objects 1park (players)) (> 20 (ai_count1)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_1ivory)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			(if (and (< (ai_living_count 1_interior) 4) (not (volume_test_objects 1interiors (players))) (volume_test_objects 1headlong (players)) (> 20 (ai_count1)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_1interiors)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			(if (and (< (ai_living_count 1_parking) 4) (not (volume_test_objects 1parkinglot (players))) (or (volume_test_objects 1station (players)) (volume_test_objects 1terminal (players))) (> 20 (ai_count1)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_1parking)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			(if (and (< (ai_living_count 1_headlong) 4) (or (volume_test_objects 1headlong (players))(volume_test_objects 1park (players))0) (> 20 (ai_count1)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)					
					(if (> 0 (unit_get_health uship))
						(begin
							(set spawnlock 1)
							(wake sp_1headlong)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)			
			(if (and (< (ai_living_count 1_terminal) 4) (or (volume_test_objects 1terminal (players)) (volume_test_objects 1park (players)) (volume_test_objects 1station (players)) (volume_test_objects 1parkinglot (players))) (> 20 (ai_count1)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health vship))
						(begin
							(set spawnlock 1)
							(wake sp_1terminal)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)
		)
	)
	(if (= 2 (structure_bsp_index))
		(begin
			(if (and (< (ai_living_count 2_interiorA) 4) (not (volume_test_objects 2interiorA (players))) (or (volume_test_objects 2mombafront (players))(volume_test_objects 2metromomba (players))) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_2interiorA)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			
			(if (and (< (ai_living_count 2_interiorB) 4) (not (volume_test_objects 2interiorB (players))) (volume_test_objects 2chronopolis (players)) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_2interiorB)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			
			
		
			
			(if (and (< (ai_living_count 2_newmombasa) 4) (or (volume_test_objects 2mombafront (players)) (volume_test_objects 2metromomba (players)) (volume_test_objects 2mombaback (players))) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(if (> 0 (unit_get_health vship))
						(begin
							(set spawnlock 1)
							(wake sp_2newmombasa)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)
			(if (and (< (ai_living_count 2_mombasarear) 4) (or (volume_test_objects 2mombafront (players))  (volume_test_objects 2mombaback (players))) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)					
					(if (> 0 (unit_get_health uship))
						(begin
							(set spawnlock 1)
							(wake sp_2mombasarear)							
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)
			(if (and (< (ai_living_count 2_loadingbay) 4) (or (volume_test_objects 2mombafront (players))  (volume_test_objects 2mombaback (players))) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health wship))
						(begin
							(set spawnlock 1)
							(wake sp_2loadingbay)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 2_chronoparking) 4) (or (volume_test_objects 2chronopolis (players))  (volume_test_objects 2metrochrono (players))) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health xship))
						(begin
							(set spawnlock 1)
							(wake sp_2chronoparking)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
				(if (and (< (ai_living_count 2_chronorear) 4) (volume_test_objects 2chronopolis (players)) (> 15 (ai_count2)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health yship))
						(begin
							(set spawnlock 1)
							(wake sp_2chronorear)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
					
				)
			)
		)
	)
	(if (= 3 (structure_bsp_index))
		(begin
			(if (and (< (ai_living_count 3_front) 4) (or (volume_test_objects 3front (players)) (volume_test_objects 3mid (players))) (> 18 (ai_count3)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(if (> 0 (unit_get_health xship))
						(begin
							(set spawnlock 1)
							(wake sp_3front)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
				)
			)
			(if (and (< (ai_living_count 3_back) 4) (or (volume_test_objects 3mid (players)) (volume_test_objects 3back (players))) (> 18 (ai_count3)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health yship))
						(begin
							(set spawnlock 1)
							(wake sp_3back)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 3_mid) 4) (not (volume_test_objects 3mid (players))) (> 18 (ai_count3)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_3mid)
					(sleep_until (= 0 spawnlock) 5)
					
				)
			)
		)
	)
	(if (= 4 (structure_bsp_index))
		(begin
			(if (and (< (ai_living_count 4_interiorA) 4) (not (volume_test_objects 4interiorA (players))) (volume_test_objects 4A (players)) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_4interiorA)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			(if (and (< (ai_living_count 4_interiorB) 4) (not (volume_test_objects 4interiorB (players))) (volume_test_objects 4B (players)) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_4interiorB)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
			(if (and (< (ai_living_count 4_interiorC) 4) (not (volume_test_objects 4interiorC (players))) (volume_test_objects 4C (players)) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					(set spawnlock 1)
					(wake sp_4interiorC)
					(sleep_until (= 0 spawnlock) 5)
				)
			)
		
			(if (and (< (ai_living_count 4_front) 5) (or (volume_test_objects 4front (players)) (volume_test_objects 4mid (players))) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health uship))
						(begin
							(set spawnlock 1)
							(wake sp_4front)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 4_mid) 5) (or (volume_test_objects 4front (players)) (volume_test_objects 4mid (players)) (volume_test_objects 4back (players))) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health vship))
						(begin
							(set spawnlock 1)
							(wake sp_4mid)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 4_back) 5) (or (volume_test_objects 4back (players)) (volume_test_objects 4mid (players)) (volume_test_objects 4A (players))) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health wship))
						(begin
							(set spawnlock 1)
							(wake sp_4back)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 4_A) 5) (or (volume_test_objects 4back (players)) (volume_test_objects 4A (players)) (volume_test_objects 4B (players))) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health xship))
						(begin
							(set spawnlock 1)
							(wake sp_4A)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 4_B) 5) (or (volume_test_objects 4A (players)) (volume_test_objects 4B (players)) (volume_test_objects 4C (players))) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health yship))
						(begin
							(set spawnlock 1)
							(wake sp_4B)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 4_C) 5) (or (volume_test_objects 4B (players)) (volume_test_objects 4C (players))) (> 20 (ai_count4)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health zship))
						(begin
							(set spawnlock 1)
							(wake sp_4C)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			)
		)
	(if (= 5 (structure_bsp_index))
		(begin
			(if (and (< (ai_living_count 5_A) 4) (or (volume_test_objects 5A (players)) (volume_test_objects 5B (players))) (> 20 (ai_count5)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health uship))
						(begin
							(set spawnlock 1)
							(wake sp_5A)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 5_B) 4) (or (volume_test_objects 5A (players)) (volume_test_objects 5B (players)) (volume_test_objects 5C (players))) (> 20 (ai_count5)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health vship))
						(begin
							(set spawnlock 1)
							(wake sp_5B)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
			(if (and (< (ai_living_count 5_C) 4) (or (volume_test_objects 5B (players)) (volume_test_objects 5C (players))) (> 20 (ai_count5)))
				(begin 
					(sleep_until (= 0 spawnlock) 5)
					
					(if (> 0 (unit_get_health wship))
						(begin
							(set spawnlock 1)
							(wake sp_5C)
							(sleep_until (= 0 spawnlock) 5)
						)
					)
					
				)
			)
		)
	)
)



(script continuous marines
	(cond
		((= 0 (structure_bsp_index))
			(begin
				(if (> ally_level (+ (ai_living_count 0_cybase)(ai_living_count 0_underpass)(ai_living_count 0_oldtown)))
					(begin
					(wake spawn_marines)
					(sleep_until (< 3 (ai_living_count hspawn)) 5)
					(if (not (volume_test_objects 0court (players)))
						(begin
						(ai_migrate hspawn 0_migration/cybase)
						(ai_teleport_to_starting_location 0_migration/cybase)
						(ai_migrate 0_migration/cybase 0_cybase)
						)
						(begin
						(ai_migrate hspawn 0_migration/underpass)
						(ai_teleport_to_starting_location 0_migration/underpass)
						(ai_migrate 0_migration/underpass 0_underpass)
						)
					)
					)
				)
			)
		)
		((= 1 (structure_bsp_index))
			(begin
				(if (> ally_level (+ (ai_living_count 1_tower)(ai_living_count 1_station)(ai_living_count 1_base)))
					(begin
					(wake spawn_marines)
					(sleep_until (< 3 (ai_living_count hspawn)) 5)
					(if (not (volume_test_objects 1interiors (players)))
						(begin
						(ai_migrate hspawn 1_migration/base)
						(ai_teleport_to_starting_location 1_migration/base)
						(ai_migrate 1_migration/base 1_base)
						)
						(begin
						(ai_migrate hspawn 1_migration/station)
						(ai_teleport_to_starting_location 1_migration/station)
						(ai_migrate 1_migration/station 1_station)
						)
					)
					)
				)
			)
		)
		((= 2 (structure_bsp_index))
			(begin
				(if (> ally_level (ai_living_count 2_base))
					(begin
						(wake spawn_marines)
						(sleep_until (< 3 (ai_living_count hspawn)) 5)
						(if (not (volume_test_objects 2metrochrono (players)))
							(begin
							(ai_migrate hspawn 2_base/spawn)
							(ai_teleport_to_starting_location 2_base/spawn)
							(ai_migrate 2_base/spawn 2_base/base)
						)
						)
					)
				)
			)
		)
		((= 3 (structure_bsp_index))
			(begin
				(if (> ally_level (+ (ai_living_count 3_marinefront)(ai_living_count 3_marinemid)(ai_living_count 3_marineback)))
					(begin
					(wake spawn_marines)
					(sleep_until (< 3 (ai_living_count hspawn)) 5)
					(if (not (volume_test_objects 3marinefront (players)))
						(begin
						(ai_migrate hspawn 3_marinefront/s)
						(ai_teleport_to_starting_location 3_marinefront/s)
						(ai_migrate 3_marinefront/s 3_marinefront/m)
						)
						(begin
						(ai_migrate hspawn 3_marineback/s)
						(ai_teleport_to_starting_location 3_marineback/s)
						(ai_migrate 3_marineback/s 3_marineback/m)
						)
					)
					)
				)
			)
		)
		((= 4 (structure_bsp_index))
			(begin
				(if (> ally_level (+ (ai_living_count 4_marineA)(ai_living_count 4_marineB)(ai_living_count 4_marineC)))
					(begin
					(wake spawn_marines)
					(sleep_until (< 3 (ai_living_count hspawn)) 5)
					(if (not (volume_test_objects 4marineA (players)))
						(begin
						(ai_migrate hspawn 4_marineA/s)
						(ai_teleport_to_starting_location 4_marineA/s)
						(ai_migrate 4_marineA/s 4_marineA/m)
						)
						(begin
						(ai_migrate hspawn 4_marineC/s)
						(ai_teleport_to_starting_location 4_marineC/s)
						(ai_migrate 4_marineC/s 4_marineC/m)
						)
					)
					)
				)
			)
		)
		((= 5 (structure_bsp_index))
			(begin
				(if (> ally_level (+ (ai_living_count 5_marineA)(ai_living_count 5_marineB)))
					(begin
					(wake spawn_marines)
					(sleep_until (< 3 (ai_living_count hspawn)) 5)
					(if (not (volume_test_objects 5marineA (players)))
						(begin
						(ai_migrate hspawn 5_marineA/s)
						(ai_teleport_to_starting_location 5_marineA/s)
						(ai_migrate 5_marineA/s 5_marineA/m)
						)
						(begin
						(ai_migrate hspawn 5_marineB/s)
						(ai_teleport_to_starting_location 5_marineB/s)
						(ai_migrate 5_marineB/s 5_marineB/m)
						)
					)
					)
				)
			
			)
		)
	)
)


(script continuous 2_banshees
	(sleep_until (= 2 (structure_bsp_index)) 5)
		(if (and (= 2 (structure_bsp_index))(< -1 (unit_get_health sheea)))
				(begin
					(if (not (vehicle_test_seat_list sheea "B-driver" (ai_actors 2_mombasashee)))
						(begin
							(vehicle_unload sheea "")
							(sleep 5)
							(unit_kill sheea)
							(object_destroy sheea)
						)
					)
				)
		)
		(if (and (= 2 (structure_bsp_index))(< -1 (unit_get_health sheeb)))
				(begin
					(if (not (vehicle_test_seat_list sheeb "B-driver" (ai_actors 2_mombasashee)))
						(begin
							(vehicle_unload sheeb "")
							(sleep 5)
							(unit_kill sheeb)
							(object_destroy sheeb)
						)
					)
				)
		)
		(if (and (= 2 (structure_bsp_index))(< -1 (unit_get_health sheec)))
			(begin
				(if (not (vehicle_test_seat_list sheec "B-driver" (ai_actors 2_chronoshee)))
					(begin
						(vehicle_unload sheec "")
						(sleep 5)
						(unit_kill sheec)
						(object_destroy sheec)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index))(< -1 (unit_get_health sheed)))
			(begin
				(if (not (vehicle_test_seat_list sheed "B-driver" (ai_actors 2_chronoshee)))
					(begin
						(vehicle_unload sheed "")
						(sleep 5)
						(unit_kill sheed)
						(object_destroy sheed)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index)) (or (> 0 (unit_get_health sheea)) (> 0 (unit_get_health sheeb)) ) (or (volume_test_objects 2mombafront (players)) (volume_test_objects 2mombaback (players))) )
			(begin
				(if (volume_test_objects 2mombafront (players))
					(begin
						(if (> 0 (unit_get_health sheeb))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheeb)
								(sleep 1)
								(vehicle_load_magic sheeb "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheeb "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 2_mombasashee)
								(object_teleport sheeb 2_bflagb)
								(recording_play sheeb 2_newmombasaB2)
								(sleep_until (> 1325 (recording_time sheeb)) 5)
								(recording_kill sheeb)
							)				
						)
						(if (> 0 (unit_get_health sheea))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheea)
								(sleep 1)
								(vehicle_load_magic sheea "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheea "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 2_mombasashee)
								(object_teleport sheea 2_bflagb)
								(recording_play sheea 2_newmombasaB2)
								(sleep_until (> 1325 (recording_time sheea)) 5)
								(recording_kill sheea)
							)				
						)
					)
				)
				(if (volume_test_objects 2mombaback (players))
					(begin
						(if (> 0 (unit_get_health sheeb))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheeb)
								(sleep 1)
								(vehicle_load_magic sheeb "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheeb "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 2_mombasashee)
								(object_teleport sheeb 2_bflaga)
								(recording_play sheeb 2_newmombasaA1)
								(sleep_until (> 1325 (recording_time sheeb)) 5)
								(recording_kill sheeb)
							)				
						)
						(if (> 0 (unit_get_health sheea))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheea)
								(sleep 1)
								(vehicle_load_magic sheea "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheea "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 2_mombasashee)
								(object_teleport sheea 2_bflaga)
								(recording_play sheea 2_newmombasaA1)
								(sleep_until (> 1325 (recording_time sheea)) 5)
								(recording_kill sheea)
							)				
						)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index)) (or (> 0 (unit_get_health sheed)) (> 0 (unit_get_health sheec)) ) (volume_test_objects 2chronopolis (players)) )
			(begin
				(if (volume_test_objects 2chronobox (players))
						(begin
							(if (> 0 (unit_get_health sheed))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheed)
									(sleep 1)
									(vehicle_load_magic sheed "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheed "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 2_chronoshee)
									(object_teleport sheed 2_bflagd)
									(recording_play sheed 2_chronoB1)
									(sleep_until (> 1700 (recording_time sheed)) 5)
									(recording_kill sheed)
								)				
							)
							(if (> 0 (unit_get_health sheec))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheec)
									(sleep 1)
									(vehicle_load_magic sheec "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheec "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 2_chronoshee)
									(object_teleport sheec 2_bflagd)
									(recording_play sheec 2_chronoB1)
									(sleep_until (> 1700 (recording_time sheec)) 5)
									(recording_kill sheec)
								)				
							)
						)
				)
				(if (and (volume_test_objects 2chronopolis (players)) (not (volume_test_objects 2chronobox (players))))
						(begin
							(if (> 0 (unit_get_health sheed))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheed)
									(sleep 1)
									(vehicle_load_magic sheed "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheed "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 2_chronoshee)
									(object_teleport sheed 2_bflagc)
									(recording_play sheed 2_loading1)
									(sleep_until (> 1450 (recording_time sheed)) 5)
									(recording_kill sheed)
								)				
							)
							(if (> 0 (unit_get_health sheec))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheec)
									(sleep 1)
									(vehicle_load_magic sheec "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheec "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 2_chronoshee)
									(object_teleport sheec 2_bflagC)
									(recording_play sheec 2_loading1)
									(sleep_until (> 1450 (recording_time sheec)) 5)
									(recording_kill sheec)
								)				
							)
						)
					)
				)
		)
		(sleep 1800)
)
(script continuous 2_warthog
	(sleep 90)
	(sleep_until (= 2 (structure_bsp_index)) 5)
		(if (and (= 2 (structure_bsp_index))(= 0 (unit_get_health mhoga)))
			(begin
				(if (not (vehicle_test_seat_list mhoga "M-driver" (ai_actors 2_mombasamarine/driver)))
					(begin
						(vehicle_unload mhoga "")
						(sleep 5)
						(unit_kill mhoga)
						(object_destroy mhoga)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index))(= 0 (unit_get_health mhogb)))
			(begin
				(if (not (vehicle_test_seat_list mhogb "M-driver" (ai_actors 2_mombasamarine/driver)))
					(begin
						(vehicle_unload mhogb "")
						(sleep 5)
						(unit_kill mhogb)
						(object_destroy mhogb)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index))(= 0 (unit_get_health mhogc)))
			(begin
				(if (not (vehicle_test_seat_list mhogc "M-driver" (ai_actors 2_chronomarine/driver)))
					(begin
						(vehicle_unload mhogc "")
						(sleep 5)
						(unit_kill mhogc)
						(object_destroy mhogc)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index))(= 0 (unit_get_health mhogd)))
			(begin
				(if (not (vehicle_test_seat_list mhogd "M-driver" (ai_actors 2_chronomarine/driver)))
					(begin
						(vehicle_unload mhogd "")
						(sleep 5)
						(unit_kill mhogd)
						(object_destroy mhogd)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index)) (or (> 0 (unit_get_health mhoga)) (> 0 (unit_get_health mhogb)) ) (or (volume_test_objects 2mombafront (players)) (volume_test_objects 2mombaback (players))) )
			(begin
				(if (volume_test_objects 2mombaback (players))
					(begin
						(cond
							((> 0 (unit_get_health mhoga))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhoga)
									(sleep 1)
									(vehicle_load_magic mhoga "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhoga "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_mombasamarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhoga "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_mombasamarine/warthog)
									(object_teleport mhoga 2_vflaga)
								)
							)
							((> 0 (unit_get_health mhogb))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogb)
									(sleep 1)
									(vehicle_load_magic mhogb "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogb "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_mombasamarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogb "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_mombasamarine/warthog)
									(object_teleport mhogb 2_vflaga)							
								)
							)
						)
					)
				)
				(if (volume_test_objects 2mombafront (players))
					(begin
						(cond
							((> 0 (unit_get_health mhoga))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhoga)
									(sleep 1)
									(vehicle_load_magic mhoga "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhoga "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_mombasamarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhoga "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_mombasamarine/warthog)
									(object_teleport mhoga 2_vflagb)
								)
							)
							((> 0 (unit_get_health mhogb))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogb)
									(sleep 1)
									(vehicle_load_magic mhogb "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogb "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_mombasamarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogb "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_mombasamarine/warthog)
									(object_teleport mhogb 2_vflagb)							
								)
							)
						)
					)
				)
			)
		)
		(if (and (= 2 (structure_bsp_index)) (or (> 0 (unit_get_health mhogc)) (> 0 (unit_get_health mhogd)) ) (volume_test_objects 2chronopolis (players)) )
			(begin
				(if (volume_test_objects 2chronobox (players))
					(begin
						(cond
							((> 0 (unit_get_health mhogc))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogc)
									(sleep 1)
									(vehicle_load_magic mhogc "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogc "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_chronomarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogc "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_chronomarine/warthog)
									(object_teleport mhogc 2_vflagc)
								)
							)
							((> 0 (unit_get_health mhogd))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogd)
									(sleep 1)
									(vehicle_load_magic mhogd "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogd "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_chronomarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogd "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_chronomarine/warthog)
									(object_teleport mhogd 2_vflagc)							
								)
							)
						)
					)
					(begin				;;this is the ELSE half, which gets played if the player is not in chronobox.
						(cond
							((> 0 (unit_get_health mhogc))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogc)
									(sleep 1)
									(vehicle_load_magic mhogc "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogc "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_chronomarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogc "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_chronomarine/warthog)
									(object_teleport mhogc 2_vflagd)
								)
							)
							((> 0 (unit_get_health mhogd))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogd)
									(sleep 1)
									(vehicle_load_magic mhogd "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogd "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 2_chronomarine/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogd "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 2_chronomarine/warthog)
									(object_teleport mhogd 2_vflagd)							
								)
							)
						)
					)
				)
			)
		)
)
(script continuous 3warthog
	(sleep 90)
	(sleep_until (= 3 (structure_bsp_index)) 5)
		(if (and (= 3 (structure_bsp_index))(= 0 (unit_get_health mhoga)))
			(begin
				(if (not (vehicle_test_seat_list mhoga "M-driver" (ai_actors 3_warthog/driver)))
					(begin
						(vehicle_unload mhoga "")
						(sleep 5)
						(unit_kill mhoga)
						(object_destroy mhoga)
					)
				)
			)
		)
		(if (and (= 3 (structure_bsp_index))(= 0 (unit_get_health mhogb)))
			(begin
				(if (not (vehicle_test_seat_list mhogb "M-driver" (ai_actors 3_warthog/driver)))
					(begin
						(vehicle_unload mhogb "")
						(sleep 5)
						(unit_kill mhogb)
						(object_destroy mhogb)
					)
				)
			)
		)
		(if (and (= 3 (structure_bsp_index)) (or (> 0 (unit_get_health mhoga)) (> 0 (unit_get_health mhogb)) ))
			(begin
				(if (not (volume_test_objects 3front (players)))
					(begin
						(cond
							((> 0 (unit_get_health mhoga))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhoga)
									(sleep 1)
									(vehicle_load_magic mhoga "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhoga "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 3_warthog/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhoga "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 3_warthog/warthog)
									(object_teleport mhoga 3_vflaga)
								)
							)
							((> 0 (unit_get_health mhogb))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogb)
									(sleep 1)
									(vehicle_load_magic mhogb "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogb "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 3_warthog/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogb "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 3_warthog/warthog)
									(object_teleport mhogb 3_vflaga)							
								)
							)
						)
					)
				)
				(if (not (volume_test_objects 3back (players)))
					(begin
						(cond
							((> 0 (unit_get_health mhoga))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhoga)
									(sleep 1)
									(vehicle_load_magic mhoga "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhoga "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 3_warthog/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhoga "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 3_warthog/warthog)
									(object_teleport mhoga 3_vflagb)
								)
							)
							((> 0 (unit_get_health mhogb))
								(begin
									(ai_place warthog_ai/driver)
									(sleep 1)
									(object_create_anew mhogb)
									(sleep 1)
									(vehicle_load_magic mhogb "driver" (ai_actors warthog_ai/driver))
									(sleep_until (vehicle_test_seat_list mhogb "M-driver" (ai_actors warthog_ai/driver)) 5)
									(ai_migrate warthog_ai/driver 3_warthog/driver)
									(ai_place warthog_ai/passenger)
									(ai_place warthog_ai/passenger)
									(sleep 1)
									(vehicle_load_magic mhogb "" (ai_actors warthog_ai/passenger))
									(ai_migrate warthog_ai/passenger 3_warthog/warthog)
									(object_teleport mhogb 3_vflagb)							
								)
							)
						)
					)
				)
			)
		)		
)
(script continuous 4warthog
	(sleep 90)
	(sleep_until (= 4 (structure_bsp_index)) 5)
		(if (and (= 4 (structure_bsp_index))(= 0 (unit_get_health mhoga)))
			(begin
				(if (not (vehicle_test_seat_list mhoga "M-driver" (ai_actors 4_bridgehog/driver)))
					(begin
						(vehicle_unload mhoga "")
						(sleep 5)
						(unit_kill mhoga)
						(object_destroy mhoga)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index))(= 0 (unit_get_health mhogb)))
			(begin
				(if (not (vehicle_test_seat_list mhogb "M-driver" (ai_actors 4_bridgehog/driver)))
					(begin
						(vehicle_unload mhogb "")
						(sleep 5)
						(unit_kill mhogb)
						(object_destroy mhogb)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index))(= 0 (unit_get_health mhogc)))
			(begin
				(if (not (vehicle_test_seat_list mhogc "M-driver" (ai_actors 4_bridgehog/driver)))
					(begin
						(vehicle_unload mhogc "")
						(sleep 5)
						(unit_kill mhogc)
						(object_destroy mhogc)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index))(= 0 (unit_get_health mhogd)))
			(begin
				(if (not (vehicle_test_seat_list mhogd "M-driver" (ai_actors 4_bridgehog/driver)))
					(begin
						(vehicle_unload mhogd "")
						(sleep 5)
						(unit_kill mhogd)
						(object_destroy mhogd)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index)) (or (> 0 (unit_get_health mhoga)) (> 0 (unit_get_health mhogb)) ))
			(begin
				(if (or (volume_test_objects 4front (players)) (volume_test_objects 4mid (players)) (volume_test_objects 4back (players)))
					(begin
						(if (not (volume_test_objects 4front (players)))
							(begin
								(cond
									((> 0 (unit_get_health mhoga))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhoga)
											(sleep 1)
											(vehicle_load_magic mhoga "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhoga "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhoga "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhoga 4_vflagc)
										)
									)
									((> 0 (unit_get_health mhogb))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhogb)
											(sleep 1)
											(vehicle_load_magic mhogb "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhogb "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhogb "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhogb 4_vflagc)							
										)
									)
								)
							)
						)
						(if (not (volume_test_objects 4back (players)))
							(begin
								(cond
									((> 0 (unit_get_health mhoga))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhoga)
											(sleep 1)
											(vehicle_load_magic mhoga "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhoga "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhoga "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhoga 4_vflagd)
										)
									)
									((> 0 (unit_get_health mhogb))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhogb)
											(sleep 1)
											(vehicle_load_magic mhogb "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhogb "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhogb "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhogb 4_vflagd)							
										)
									)	
								)
							)
						)
					)
				)
				(if (or (volume_test_objects 4a (players)) (volume_test_objects 4b (players)) (volume_test_objects 4c (players)))
					(begin
						(if (not (volume_test_objects 4a (players)))
							(begin
								(cond
									((> 0 (unit_get_health mhogc))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhogc)
											(sleep 1)
											(vehicle_load_magic mhogc "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhogc "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhogc "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhogc 4_vflaga)
										)
									)
									((> 0 (unit_get_health mhogd))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhogd)
											(sleep 1)
											(vehicle_load_magic mhogd "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhogd "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhogd "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhogd 4_vflaga)							
										)
									)
								)
							)
						)
						(if (not (volume_test_objects 4c (players)))
							(begin
								(cond
									((> 0 (unit_get_health mhogc))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhogc)
											(sleep 1)
											(vehicle_load_magic mhogc "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhogc "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhogc "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhogc 4_vflagb)
										)
									)
									((> 0 (unit_get_health mhogd))
										(begin
											(ai_place warthog_ai/driver)
											(sleep 1)
											(object_create_anew mhogd)
											(sleep 1)
											(vehicle_load_magic mhogd "driver" (ai_actors warthog_ai/driver))
											(sleep_until (vehicle_test_seat_list mhogd "M-driver" (ai_actors warthog_ai/driver)) 5)
											(ai_migrate warthog_ai/driver 4_bridgehog/driver)
											(ai_place warthog_ai/passenger)
											(ai_place warthog_ai/passenger)
											(sleep 1)
											(vehicle_load_magic mhogd "" (ai_actors warthog_ai/passenger))
											(ai_migrate warthog_ai/passenger 4_bridgehog/passenger)
											(object_teleport mhogd 4_vflagb)							
										)
									)	
								)
							)
						)
					)
				)
			)
		)
)
(script continuous 4ghosts
	(if (or (volume_test_objects 4a (players)) (volume_test_objects 4b (players)) (volume_test_objects 4c (players)))
		(begin
			(if (or (volume_test_object 4front ghosta) (volume_test_object 4mid ghosta))
				(object_destroy ghosta)
			)
			(if (or (volume_test_object 4front ghostb) (volume_test_object 4mid ghostb))
				(object_destroy ghostb)
			)
			(if (or (volume_test_object 4front ghostc) (volume_test_object 4mid ghostc))
				(object_destroy ghostc)
			)
			(if (or (volume_test_object 4front ghostd) (volume_test_object 4mid ghostd))
				(object_destroy ghostd)
			)
			(if (or (volume_test_object 4front wraitha) (volume_test_object 4mid wraitha))
				(object_destroy wraitha)
			)
			(if (or (volume_test_object 4front wraithb) (volume_test_object 4mid wraithb))
				(object_destroy wraithb)
			)
		)
	)
	(if (or (volume_test_objects 4front (players)) (volume_test_objects 4mid (players)) (volume_test_objects 4back (players)))
		(begin
			(if (or (volume_test_object 4a ghosta) (volume_test_object 4b ghosta))
				(object_destroy ghosta)
			)
			(if (or (volume_test_object 4a ghostb) (volume_test_object 4b ghostb))
				(object_destroy ghostb)
			)
			(if (or (volume_test_object 4a ghostc) (volume_test_object 4b ghostc))
				(object_destroy ghostc)
			)
			(if (or (volume_test_object 4a ghostd) (volume_test_object 4b ghostd))
				(object_destroy ghostd)
			)
			(if (or (volume_test_object 4a wraitha) (volume_test_object 4b wraitha))
				(object_destroy wraitha)
			)
			(if (or (volume_test_object 4a wraithb) (volume_test_object 4b wraithb))
				(object_destroy wraithb)
			)
		)
	)
	(sleep 1800)
)
(script continuous 4banshees
	(sleep_until (= 4 (structure_bsp_index)) 5)
		(if (and (= 4 (structure_bsp_index))(< -1 (unit_get_health sheea)))
				(begin
					(if (not (vehicle_test_seat_list sheea "B-driver" (ai_actors 4_bridgeshee)))
						(begin
							(vehicle_unload sheea "")
							(sleep 5)
							(unit_kill sheea)
							(object_destroy sheea)
						)
					)
				)
		)
		(if (and (= 4 (structure_bsp_index))(< -1 (unit_get_health sheeb)))
				(begin
					(if (not (vehicle_test_seat_list sheeb "B-driver" (ai_actors 4_bridgeshee)))
						(begin
							(vehicle_unload sheeb "")
							(sleep 5)
							(unit_kill sheeb)
							(object_destroy sheeb)
						)
					)
				)
		)
		(if (and (= 4 (structure_bsp_index))(< -1 (unit_get_health sheec)))
			(begin
				(if (not (vehicle_test_seat_list sheec "B-driver" (ai_actors 4_cityshee)))
					(begin
						(vehicle_unload sheec "")
						(sleep 5)
						(unit_kill sheec)
						(object_destroy sheec)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index))(< -1 (unit_get_health sheed)))
			(begin
				(if (not (vehicle_test_seat_list sheed "B-driver" (ai_actors 4_cityshee)))
					(begin
						(vehicle_unload sheed "")
						(sleep 5)
						(unit_kill sheed)
						(object_destroy sheed)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index)) (or (> 0 (unit_get_health sheea)) (> 0 (unit_get_health sheeb)) ) (or (volume_test_objects 4front (players)) (volume_test_objects 4mid (players)) (volume_test_objects 4back (players))) )
			(begin
				(if (or  (volume_test_objects 4front (players)) (volume_test_objects 4mid (players)))
					(begin
						(if (> 0 (unit_get_health sheeb))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheeb)
								(sleep 1)
								(vehicle_load_magic sheeb "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheeb "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 4_bridgeshee)
								(object_teleport sheeb 4_trollA)
								(set tempint (random_range 1 3))
								(if (= 1 tempint)
									(begin
										(recording_play sheeb 4_trollA1)										
									)
								)
								(if (= 2 tempint)
									(begin
										(recording_play sheeb 4_trollA2)
									)
								)
							)				
						)
						(if (> 0 (unit_get_health sheea))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheea)
								(sleep 1)
								(vehicle_load_magic sheea "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheea "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 4_bridgeshee)
								(object_teleport sheea 4_trollA)
								(set tempint (random_range 1 3))
								(if (= 1 tempint)
									(begin
										(recording_play sheea 4_trollA1)										
									)
								)
								(if (= 2 tempint)
									(begin
										(recording_play sheea 4_trollA2)
									)
								)
							)				
						)
					)
				)
				(if (or  (volume_test_objects 4back (players)) (volume_test_objects 4mid (players)))
					(begin
						(if (> 0 (unit_get_health sheeb))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheeb)
								(sleep 1)
								(vehicle_load_magic sheeb "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheeb "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 4_bridgeshee)
								(object_teleport sheeb 4_trollB)
								(set tempint (random_range 1 3))
								(if (= 1 tempint)
									(begin
										(recording_play sheeb 4_trollB1)										
									)
								)
								(if (= 2 tempint)
									(begin
										(recording_play sheeb 4_trollB2)
									)
								)
							)				
						)
						(if (> 0 (unit_get_health sheea))
							(begin
								(ai_place driver/banshee)
								(sleep 1)
								(object_create_anew sheea)
								(sleep 1)
								(vehicle_load_magic sheea "" (ai_actors driver/banshee))
								(sleep_until (vehicle_test_seat_list sheea "B-driver" (ai_actors driver/banshee)) 5)
								(ai_migrate driver/banshee 4_bridgeshee)
								(object_teleport sheea 4_trollB)
								(set tempint (random_range 1 3))
								(if (= 1 tempint)
									(begin
										(recording_play sheea 4_trollB1)										
									)
								)
								(if (= 2 tempint)
									(begin
										(recording_play sheea 4_trollB2)
									)
								)
							)				
						)
					)
				)
			)
		)
		(if (and (= 4 (structure_bsp_index)) (or (> 0 (unit_get_health sheed)) (> 0 (unit_get_health sheec)) ) (or (volume_test_objects 4A (players)) (volume_test_objects 4B (players)) (volume_test_objects 4C (players))) )
			(begin
				(if (or  (volume_test_objects 4A (players)) (volume_test_objects 4B (players)))
						(begin
							(if (> 0 (unit_get_health sheed))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheed)
									(sleep 1)
									(vehicle_load_magic sheed "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheed "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 4_cityshee)
									(object_teleport sheed 4_bflaga)
									(recording_play sheed 4_trollA2)
								)				
							)
							(if (> 0 (unit_get_health sheec))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheec)
									(sleep 1)
									(vehicle_load_magic sheec "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheec "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 4_cityshee)
									(object_teleport sheec 2_bflagd)
									(recording_play sheec 2_chronoB1)
									(object_teleport sheec 4_bflaga)
									(recording_play sheec 4_trollA2)
								)				
							)
						)
				)
				(if (or  (volume_test_objects 4C (players)) (volume_test_objects 4B (players)))
						(begin
							(if (> 0 (unit_get_health sheed))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheed)
									(sleep 1)
									(vehicle_load_magic sheed "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheed "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 4_cityshee)
									(object_teleport sheed 4_bflagB)
									(recording_play sheed 2_newmombasaA1)
									(sleep_until (> 1350 (recording_time sheed)) 5)
									(recording_kill sheed)
								)				
							)
							(if (> 0 (unit_get_health sheec))
								(begin
									(ai_place driver/banshee)
									(sleep 1)
									(object_create_anew sheec)
									(sleep 1)
									(vehicle_load_magic sheec "B-driver" (ai_actors driver/banshee))
									(sleep_until (vehicle_test_seat_list sheec "B-driver" (ai_actors driver/banshee)) 5)
									(ai_migrate driver/banshee 4_cityshee)
									(object_teleport sheec 4_bflagB)
									(recording_play sheec 2_newmombasaA1)
									(sleep_until (> 1350 (recording_time sheec)) 5)
									(recording_kill sheec)
								)				
							)
						)
					)
				)
		)
(sleep 1800)
)

(script continuous bloodlust
	
	
	
	(ai_follow_target_players 0_cybase)
	(ai_follow_target_players 0_underpass)
	(ai_follow_target_players 0_oldtown)
	(ai_follow_target_players 1_headlong)
	(ai_follow_target_players 1_terminal)
	(ai_follow_target_players 1_tower)
	(ai_follow_target_players 2_mombasamarine)
	(ai_follow_target_players 2_chronomarine)
	(ai_follow_target_players 3_marinefront)
	(ai_follow_target_players 3_marinemid)
	(ai_follow_target_players 3_marineback)
	(ai_follow_target_players 4_marineA)
	(ai_follow_target_players 4_marineB)
	(ai_follow_target_players 4_marineC)
	(ai_follow_target_players 5_marineA)
	(ai_follow_target_players 5_marineB)



	(if (= 0 (structure_bsp_index))
		(begin
			(ai_magically_see_encounter 0_jalley 0_cybase)
			(ai_magically_see_encounter 0_jalley 0_oldtown)
			(ai_magically_see_encounter 0_jalley 0_underpass)
			(ai_magically_see_encounter 0_cybase 0_jalley)
			(ai_magically_see_encounter 0_oldtown 0_jalley)
			(ai_magically_see_encounter 0_underpass 0_jalley)
			(ai_magically_see_encounter 0_turf 0_cybase)
			(ai_magically_see_encounter 0_turf 0_oldtown)
			(ai_magically_see_encounter 0_turf 0_underpass)
			(ai_magically_see_encounter 0_cybase 0_turf)
			(ai_magically_see_encounter 0_oldtown 0_turf)
			(ai_magically_see_encounter 0_underpass 0_turf)
			(ai_magically_see_encounter 0_courtyard 0_cybase)
			(ai_magically_see_encounter 0_courtyard 0_oldtown)
			(ai_magically_see_encounter 0_courtyard 0_underpass)
			(ai_magically_see_encounter 0_cybase 0_courtyard)
			(ai_magically_see_encounter 0_oldtown 0_courtyard)
			(ai_magically_see_encounter 0_underpass 0_courtyard)
		)
	)
	(if (= 1 (structure_bsp_index))
		(begin
			(ai_magically_see_encounter 1_ivory 1_base)
			(ai_magically_see_encounter 1_ivory 1_station)
			(ai_magically_see_encounter 1_ivory 1_tower)
			(ai_magically_see_encounter 1_base 1_ivory)
			(ai_magically_see_encounter 1_station 1_ivory)
			(ai_magically_see_encounter 1_tower 1_ivory)
			(ai_magically_see_encounter 1_headlong 1_base)
			(ai_magically_see_encounter 1_headlong 1_station)
			(ai_magically_see_encounter 1_headlong 1_tower)
			(ai_magically_see_encounter 1_base 1_headlong)
			(ai_magically_see_encounter 1_station 1_headlong)
			(ai_magically_see_encounter 1_tower 1_headlong)
			(ai_magically_see_encounter 1_terminal 1_base)
			(ai_magically_see_encounter 1_terminal 1_station)
			(ai_magically_see_encounter 1_terminal 1_tower)
			(ai_magically_see_encounter 1_base 1_terminal)
			(ai_magically_see_encounter 1_station 1_terminal)
			(ai_magically_see_encounter 1_tower 1_terminal)
			(ai_magically_see_encounter 1_parking 1_base)
			(ai_magically_see_encounter 1_parking 1_station)
			(ai_magically_see_encounter 1_parking 1_tower)
			(ai_magically_see_encounter 1_base 1_parking)
			(ai_magically_see_encounter 1_station 1_parking)
			(ai_magically_see_encounter 1_tower 1_parking)
			(ai_magically_see_encounter 1_interior 1_base)
			(ai_magically_see_encounter 1_interior 1_station)
			(ai_magically_see_encounter 1_interior 1_tower)
			(ai_magically_see_encounter 1_base 1_interior)
			(ai_magically_see_encounter 1_station 1_interior)
			(ai_magically_see_encounter 1_tower 1_interior)
		)
	)
	(if (= 2 (structure_bsp_index))
		(begin
			(ai_magically_see_encounter 2_interiorA 2_base)
			(ai_magically_see_encounter 2_interiorB 2_base)
			(ai_magically_see_encounter 2_interiorA 2_mombasamarine)
			(ai_magically_see_encounter 2_interiorB 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_interiorA)
			(ai_magically_see_encounter 2_base 2_interiorB)
			(ai_magically_see_encounter 2_newmombasa 2_base)
			(ai_magically_see_encounter 2_newmombasa 2_mombasamarine)
			(ai_magically_see_encounter 2_newmombasa 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_newmombasa)
			(ai_magically_see_encounter 2_mombasamarine 2_newmombasa)
			(ai_magically_see_encounter 2_chronomarine 2_newmombasa)
			(ai_magically_see_encounter 2_chronoghosts 2_base)
			(ai_magically_see_encounter 2_chronoghosts 2_mombasamarine)
			(ai_magically_see_encounter 2_chronoghosts 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_chronoghosts)
			(ai_magically_see_encounter 2_mombasamarine 2_chronoghosts)
			(ai_magically_see_encounter 2_chronomarine 2_chronoghosts)
			(ai_magically_see_encounter 2_mombasaghosts 2_base)
			(ai_magically_see_encounter 2_mombasaghosts 2_mombasamarine)
			(ai_magically_see_encounter 2_mombasaghosts 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_mombasaghosts)
			(ai_magically_see_encounter 2_mombasamarine 2_mombasaghosts)
			(ai_magically_see_encounter 2_chronomarine 2_mombasaghosts)			
			(ai_magically_see_encounter 2_mombasarear 2_base)
			(ai_magically_see_encounter 2_mombasarear 2_mombasamarine)
			(ai_magically_see_encounter 2_mombasarear 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_mombasarear)
			(ai_magically_see_encounter 2_mombasamarine 2_mombasarear)
			(ai_magically_see_encounter 2_chronomarine 2_mombasarear)
			(ai_magically_see_encounter 2_loadingbay 2_base)
			(ai_magically_see_encounter 2_loadingbay 2_mombasamarine)
			(ai_magically_see_encounter 2_loadingbay 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_loadingbay)
			(ai_magically_see_encounter 2_mombasamarine 2_loadingbay)
			(ai_magically_see_encounter 2_chronomarine 2_loadingbay)
			(ai_magically_see_encounter 2_chronoparking 2_base)
			(ai_magically_see_encounter 2_chronoparking 2_mombasamarine)
			(ai_magically_see_encounter 2_chronoparking 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_chronoparking)
			(ai_magically_see_encounter 2_mombasamarine 2_chronoparking)
			(ai_magically_see_encounter 2_chronomarine 2_chronoparking)
			(ai_magically_see_encounter 2_chronorear 2_base)
			(ai_magically_see_encounter 2_chronorear 2_mombasamarine)
			(ai_magically_see_encounter 2_chronorear 2_chronomarine)
			(ai_magically_see_encounter 2_base 2_chronorear)
			(ai_magically_see_encounter 2_mombasamarine 2_chronorear)
			(ai_magically_see_encounter 2_chronomarine 2_chronorear)
			(ai_magically_see_encounter 2_mombasamarine 2_mombasaghosts)
			(ai_magically_see_encounter 2_mombasaghosts 2_mombasamarine)
		)
	)
	(if (= 3 (structure_bsp_index))
		(begin
			(ai_magically_see_encounter 3_front 3_marinefront)
			(ai_magically_see_encounter 3_front 3_marinemid)
			(ai_magically_see_encounter 3_front 3_marineback)
			(ai_magically_see_encounter 3_front 3_warthog)
			(ai_magically_see_encounter 3_mid 3_marinefront)
			(ai_magically_see_encounter 3_mid 3_marinemid)
			(ai_magically_see_encounter 3_mid 3_marineback)
			(ai_magically_see_encounter 3_mid 3_warthog)
			(ai_magically_see_encounter 3_back 3_marinefront)
			(ai_magically_see_encounter 3_back 3_marinemid)
			(ai_magically_see_encounter 3_back 3_marineback)
			(ai_magically_see_encounter 3_back 3_warthog)
			(ai_magically_see_encounter 3_marinefront 3_front)
			(ai_magically_see_encounter 3_marinefront 3_mid)
			(ai_magically_see_encounter 3_marinefront 3_back)
			(ai_magically_see_encounter 3_marinefront 3_ghost)
			(ai_magically_see_encounter 3_marinemid 3_front)
			(ai_magically_see_encounter 3_marinemid 3_mid)
			(ai_magically_see_encounter 3_marinemid 3_back)
			(ai_magically_see_encounter 3_marinemid 3_ghost)
			(ai_magically_see_encounter 3_marineback 3_front)
			(ai_magically_see_encounter 3_marineback 3_mid)
			(ai_magically_see_encounter 3_marineback 3_back)
			(ai_magically_see_encounter 3_marineback 3_ghost)
			(ai_magically_see_encounter 3_ghost 3_warthog)
			(ai_magically_see_encounter 3_warthog 3_ghost)
		)
	)
	(if (= 4 (structure_bsp_index))
		(begin
			(ai_magically_see_encounter 4_front 4_marinea)
			(ai_magically_see_encounter 4_front 4_marineb)
			(ai_magically_see_encounter 4_front 4_marinec)
			(ai_magically_see_encounter 4_front 4_bridgehog)
			(ai_magically_see_encounter 4_mid 4_marinea)
			(ai_magically_see_encounter 4_mid 4_marineb)
			(ai_magically_see_encounter 4_mid 4_marinec)
			(ai_magically_see_encounter 4_mid 4_bridgehog)
			(ai_magically_see_encounter 4_back 4_marinea)
			(ai_magically_see_encounter 4_back 4_marineb)
			(ai_magically_see_encounter 4_back 4_marinec)
			(ai_magically_see_encounter 4_back 4_bridgehog)
			(ai_magically_see_encounter 4_marinea 4_front)
			(ai_magically_see_encounter 4_marinea 4_mid)
			(ai_magically_see_encounter 4_marinea 4_back)
			(ai_magically_see_encounter 4_marinea 4_bridgeghost)
			(ai_magically_see_encounter 4_marineb 4_front)
			(ai_magically_see_encounter 4_marineb 4_mid)
			(ai_magically_see_encounter 4_marineb 4_back)
			(ai_magically_see_encounter 4_marineb 4_bridgeghost)
			(ai_magically_see_encounter 4_marinec 4_front)
			(ai_magically_see_encounter 4_marinec 4_mid)
			(ai_magically_see_encounter 4_marinec 4_back)
			(ai_magically_see_encounter 4_marinec 4_bridgeghost)
			(ai_magically_see_encounter 4_marinea 4_a)
			(ai_magically_see_encounter 4_marinea 4_b)
			(ai_magically_see_encounter 4_marinea 4_c)			
			(ai_magically_see_encounter 4_marineb 4_a)
			(ai_magically_see_encounter 4_marineb 4_b)
			(ai_magically_see_encounter 4_marineb 4_c)			
			(ai_magically_see_encounter 4_marinec 4_a)
			(ai_magically_see_encounter 4_marinec 4_b)
			(ai_magically_see_encounter 4_marinec 4_c)
			(ai_magically_see_encounter 4_marinea 4_interiora)
			(ai_magically_see_encounter 4_marinea 4_interiorb)
			(ai_magically_see_encounter 4_marinea 4_interiorc)
			(ai_magically_see_encounter 4_marineb 4_interiora)
			(ai_magically_see_encounter 4_marineb 4_interiorb)
			(ai_magically_see_encounter 4_marineb 4_interiorc)
			(ai_magically_see_encounter 4_marinec 4_interiora)
			(ai_magically_see_encounter 4_marinec 4_interiorb)
			(ai_magically_see_encounter 4_marinec 4_interiorc)
			(ai_magically_see_encounter 4_bridgeghost 4_bridgehog)
			(ai_magically_see_encounter 4_bridgehog 4_bridgeghost)
			(ai_magically_see_encounter 4_a 4_marinea)
			(ai_magically_see_encounter 4_a 4_marineb)
			(ai_magically_see_encounter 4_a 4_marinec)
			(ai_magically_see_encounter 4_a 4_bridgehog)
			(ai_magically_see_encounter 4_b 4_marinea)
			(ai_magically_see_encounter 4_b 4_marineb)
			(ai_magically_see_encounter 4_b 4_marinec)
			(ai_magically_see_encounter 4_b 4_bridgehog)
			(ai_magically_see_encounter 4_c 4_marinea)
			(ai_magically_see_encounter 4_c 4_marineb)
			(ai_magically_see_encounter 4_c 4_marinec)
			(ai_magically_see_encounter 4_c 4_bridgehog)
			(ai_magically_see_encounter 4_interiora 4_marinea)
			(ai_magically_see_encounter 4_interiora 4_marineb)
			(ai_magically_see_encounter 4_interiora 4_marinec)
			(ai_magically_see_encounter 4_interiora 4_bridgehog)
			(ai_magically_see_encounter 4_interiorb 4_marinea)
			(ai_magically_see_encounter 4_interiorb 4_marineb)
			(ai_magically_see_encounter 4_interiorb 4_marinec)
			(ai_magically_see_encounter 4_interiorb 4_bridgehog)
			(ai_magically_see_encounter 4_interiorc 4_marinea)
			(ai_magically_see_encounter 4_interiorc 4_marineb)
			(ai_magically_see_encounter 4_interiorc 4_marinec)
			(ai_magically_see_encounter 4_interiorc 4_bridgehog)
		)
	)
	(if (= 5 (structure_bsp_index))
		(begin
			(ai_magically_see_encounter 5_a 5_marineA)
			(ai_magically_see_encounter 5_a 5_marineb)
			(ai_magically_see_encounter 5_b 5_marineA)
			(ai_magically_see_encounter 5_b 5_marineb)
			(ai_magically_see_encounter 5_c 5_marineA)
			(ai_magically_see_encounter 5_c 5_marineb)
			(ai_magically_see_encounter 5_marineA 5_a)
			(ai_magically_see_encounter 5_marineA 5_b)
			(ai_magically_see_encounter 5_marineA 5_c)
			(ai_magically_see_encounter 5_marineb 5_a)
			(ai_magically_see_encounter 5_marineb 5_b)
			(ai_magically_see_encounter 5_marineb 5_c)
			(ai_magically_see_encounter 4_marinec 5_a)
			(ai_magically_see_encounter 4_marinec 5_b)
			(ai_magically_see_encounter 4_marinec 5_c)
		)
	)
(sleep 30)
)

(script continuous 0migrationsnipers
	(cond
		((volume_test_objects 0overpass (players))
			(begin
				(ai_migrate 0_cybase 0_oldtown)
				(ai_migrate 0_underpass 0_oldtown)
				(ai_migrate 0_courtyard/c 0_jalley/c)
				(ai_migrate 0_turf/c 0_jalley/c)
			
				(ai_kill_silent 0_snipers/courtyard)
				(if (> 2 (ai_living_count 0_snipers))
				(ai_place 0_snipers/jalley)
				)
			)
		)
		((volume_test_objects 0base (players))
			(begin
				(ai_migrate 0_underpass 0_cybase)
				(ai_migrate 0_oldtown 0_cybase)
				(ai_migrate 0_jalley/c 0_courtyard/c)
				(ai_migrate 0_turf/c 0_courtyard/c)
		
				(ai_kill_silent 0_snipers/jalley)
				(ai_kill_silent 0_snipers/overpass)
				(if (> 2 (ai_living_count 0_snipers))
					(ai_place 0_snipers/town)
				)
			)
			
		)
		((volume_test_objects 0court (players))
			(begin
				(ai_migrate 0_underpass 0_cybase)
				(ai_migrate 0_oldtown 0_cybase)
				(ai_migrate 0_jalley/c 0_courtyard/c)
				(ai_migrate 0_turf/c 0_courtyard/c)
			
				(ai_kill_silent 0_snipers/jalley)
				(ai_kill_silent 0_snipers/town)
				(if (> 2 (ai_living_count 0_snipers))
					(ai_place 0_snipers/courtyard)
				)
			)			
		)
		((volume_test_objects 0alley (players))
			(begin
				(ai_migrate 0_cybase 0_oldtown)
				(ai_migrate 0_underpass 0_oldtown)
				(ai_migrate 0_courtyard/c 0_jalley/c)
				(ai_migrate 0_turf/c 0_jalley/c)
			
				(ai_kill_silent 0_snipers/courtyard)
				(if (> 2 (ai_living_count 0_snipers))
					(ai_place 0_snipers/jalley)
				)
			)			
		)
		((volume_test_objects 0town (players))
			(begin
				(ai_migrate 0_cybase 0_underpass)
				(ai_migrate 0_oldtown 0_underpass)
				(ai_migrate 0_courtyard/c 0_jalley/c)
			
				(ai_kill_silent 0_snipers/courtyard)
				(ai_kill_silent 0_snipers/overpass)
				(if (> 2 (ai_living_count 0_snipers))
				(ai_place 0_snipers/town)
				)
			)
		)
		((volume_test_objects 0turf (players))
			(begin
				(ai_migrate 0_cybase 0_underpass)
				(ai_migrate 0_oldtown 0_underpass)
				(ai_migrate 0_courtyard/c 0_turf/c)
				(ai_migrate 0_jalley/c 0_turf/c)
		
				(ai_kill_silent 0_snipers/courtyard)
				(ai_kill_silent 0_snipers/overpass)
				(if (> 2 (ai_living_count 0_snipers))
				(ai_place 0_snipers/town)
				)
			)
		)
		((volume_test_objects 0exit (players))
			(begin
				(ai_migrate 0_underpass 0_cybase)
				(ai_migrate 0_oldtown 0_cybase)
				(ai_migrate 0_jalley/c 0_courtyard/c)
				(ai_migrate 0_turf/c 0_courtyard/c)
			
				(ai_kill_silent 0_snipers/town)
				(ai_kill_silent 0_snipers/overpass)
				(ai_kill_silent 0_snipers/jalley)
				(if (> 2 (ai_living_count 0_snipers))
				(ai_place 0_snipers/town)
				)
			)
		)

;; BSP 1

		((volume_test_objects 1parkinglot (players))
			(begin
				(ai_migrate 1_base 1_station)				
		
				(ai_kill_silent 1_snipers/headlong)
				(ai_kill_silent 1_snipers/park)
				(if (> 2 (ai_living_count 1_snipers))
				(ai_place 1_snipers/train)
				)
			)
		)
		((volume_test_objects 1station (players))
			(begin
				(ai_migrate 1_base 1_station)	
				(ai_migrate 1_headlong/c 1_terminal/c)
				(ai_migrate 1_ivory 1_terminal/c)
		
				(ai_kill_silent 1_snipers/headlong)
				(ai_kill_silent 1_snipers/park)
				(if (> 2 (ai_living_count 1_snipers))
				(ai_place 1_snipers/train)
				)						
			)
		)
		((volume_test_objects 1terminal (players))
			(begin
				(ai_migrate 1_base 1_station)				
			
				(ai_kill_silent 1_snipers/headlong)
				(if (> 2 (ai_living_count 1_snipers))
				(ai_place 1_snipers/train)
				)
			)
		)
		((volume_test_objects 1headlong (players))
			(begin
				(ai_migrate 1_station 1_base)
				(ai_migrate 1_ivory 1_headlong/c)
				(ai_migrate 1_terminal/c 1_headlong/c)
			
				(ai_kill_silent 1_snipers/train)
				(if (> 2 (ai_living_count 1_snipers))
				(ai_place 1_snipers/headlong)
				)
			)
		)
		((volume_test_objects 1interiors (players))
			(begin
				(ai_migrate 1_station 1_base)				
			
				(ai_kill_silent 1_snipers/train)
				(ai_kill_silent 1_snipers/park)
				(if (> 2 (ai_living_count 1_snipers))
				(ai_place 1_snipers/headlong)
				)
			)
		)
		((volume_test_objects 1park (players))
			(begin
				(if (> 2 (ai_living_count 1_snipers))
				(ai_place 1_snipers/park)
				)
			)
		)
		((volume_test_objects 1ivory (players))
			(begin
			(ai_kill 1_interior)
				(if (< 20 (+ (ai_living_count 1_headlong)(ai_living_count 1_terminal)))
					(begin
						(ai_kill 1_headlong)
						(ai_kill 1_terminal)
					)
				)
			
						(ai_kill_silent 1_snipers/train)
						(ai_kill_silent 1_snipers/headlong)
						(if (> 2 (ai_living_count 1_snipers))
						(ai_place 1_snipers/park)
						)
			)
		)

;; BSP 2

		((or (volume_test_objects 2mombafront (players)) (volume_test_objects 2mombaback (players)) )
			(begin
				(ai_kill 2_chronoparking)
				(ai_kill 2_chronorear)
				(ai_kill_silent 2_snipers/chronopolis)
						(if (> 2 (ai_living_count 2_snipers))
						(ai_place 2_snipers/mombasa)
						)
					
			)
		)
		((volume_test_objects 2chronopolis (players))
			(begin
				(ai_kill 2_mombasarear)
				(ai_kill 2_newmombasa)
				(ai_kill_silent 2_snipers/mombasa)
						(if (> 2 (ai_living_count 2_snipers))
						(ai_place 2_snipers/chronopolis)
						)
			)
		)

;; BSP 3

		((volume_test_objects 3front (players))
			(begin
				(ai_migrate 3_marinemid/m 3_marinefront/m)				
				(ai_migrate 3_marineback/m 3_marinefront/m)	
				(ai_migrate 3_mid/c 3_front/c)
				(ai_migrate 3_back/c 3_front/c)
				(ai_kill_silent 3_snipers/back)
				(if (> 2 (ai_living_count 3_snipers))
				(ai_place 3_snipers/front)
				)
					
						
			)
		)
		((volume_test_objects 3mid (players))
			(begin
				(ai_migrate 3_marinefront/m 3_marinemid/m)				
				(ai_migrate 3_marineback/m 3_marinemid/m)
				(ai_migrate 3_front/c 3_mid/c)
				(ai_migrate 3_back/c 3_mid/c)
				(if (> 2 (ai_living_count 3_snipers))
				(ai_place 3_snipers/mid)
				)
						
										
			)
		)
		((volume_test_objects 3back (players))
			(begin
				(ai_migrate 3_marinemid/m 3_marineback/m)				
				(ai_migrate 3_marinefront/m 3_marineback/m)	
				(ai_migrate 3_mid/c 3_back/c)
				(ai_migrate 3_mid/c 3_back/c)
				(ai_kill_silent 3_snipers/front)
				(if (> 2 (ai_living_count 3_snipers))
				(ai_place 3_snipers/back)
				)
			)
		)

;; BSP 4

		((volume_test_objects 4a (players))
			(begin
				(ai_migrate 4_marineb/m 4_marinea/m)				
				(ai_migrate 4_marinec/m 4_marinea/m)	
				(ai_migrate 4_back/c 4_a/c)
				(ai_migrate 4_b/c 4_a/c)
				(ai_kill 4_c)
				(ai_kill 4_front)
				(ai_kill 4_mid)
				
				
				(ai_kill_silent 4_snipers/C)
				(ai_kill_silent 4_snipers/front)
				(if (> 3 (ai_living_count 4_snipers))
				(ai_place 4_snipers/A)
				)
					
				
				
			)
		)
		((volume_test_objects 4b (players))
			(begin
				(ai_migrate 4_marinea/m 4_marineb/m)				
				(ai_migrate 4_marinec/m 4_marineb/m)	
				(ai_migrate 4_a/c 4_b/c)
				(ai_migrate 4_c/c 4_b/c)	
				(ai_kill 4_back)
				(ai_kill 4_mid)
				(ai_kill 4_front)
				
				
				(ai_kill_silent 4_snipers/front)
				(ai_kill_silent 4_snipers/back)
				(if (> 3 (ai_living_count 4_snipers))
				(ai_place 4_snipers/B)
				)
			)
		)
		((volume_test_objects 4c (players))
			(begin
				(ai_migrate 4_marineb/m 4_marinec/m)				
				(ai_migrate 4_marinea/m 4_marinec/m)	
				(ai_migrate 4_b/c 4_c/c)
				(ai_kill 4_a)
				(ai_kill 4_back)
				(ai_kill 4_mid)
				(ai_kill 4_front)
				
				
				(ai_kill_silent 4_snipers/A)
				(ai_kill_silent 4_snipers/front)
				(ai_kill_silent 4_snipers/back)
				(if (> 3 (ai_living_count 4_snipers))
				(ai_place 4_snipers/C)
				)
			)
		)
		((volume_test_objects 4front (players))
			(begin
				(ai_migrate 4_mid/c 4_front/c)
				(ai_kill 4_back)
				(ai_kill 4_mid)
				(ai_kill 4_a)
				(ai_kill 4_b)
				(ai_kill 4_c)
				(ai_kill 4_interiorA)
				(ai_kill 4_interiorB)
				(ai_kill 4_interiorC)
				
				(ai_kill_silent 4_snipers/back)
				(ai_kill_silent 4_snipers/A)
				(ai_kill_silent 4_snipers/B)
				(ai_kill_silent 4_snipers/C)
				(if (> 3 (ai_living_count 4_snipers))
				(ai_place 4_snipers/front)
				)
			)
		)
		((volume_test_objects 4mid (players))
			(begin
				(ai_migrate 4_front/c 4_mid/c)
				(ai_migrate 4_back/c 4_mid/c)
				(ai_kill 4_a)
				(ai_kill 4_b)
				(ai_kill 4_c)
				(ai_kill 4_interiorA)
				(ai_kill 4_interiorB)
				(ai_kill 4_interiorC)
			)
		)
		((volume_test_objects 4back (players))
			(begin
				(ai_migrate 4_a/c 4_back/c)
				(ai_migrate 4_mid/c 4_back/c)
				(ai_kill 4_front)
				(ai_kill 4_b)
				(ai_kill 4_c)
				
				(ai_kill_silent 4_snipers/front)
				(ai_kill_silent 4_snipers/B)
				(ai_kill_silent 4_snipers/C)
				(if (> 3 (ai_living_count 4_snipers))
				(ai_place 4_snipers/back)
				)
			)
		)

;; BSP 5

		((volume_test_objects 5a (players))
			(begin
				(ai_migrate 5_marineb/m 5_marinea/m)
				(ai_migrate 5_b/c 5_a/c)
				(ai_migrate 5_c/c 5_a/c)
				
				(if (> 3 (ai_living_count 5_snipers))
				(ai_place 5_snipers/tombstone)
				)
			)
		)
		((or (volume_test_objects 5b (players)) (volume_test_objects 5c (players)))
			(begin
				(ai_migrate 5_marinea/m 5_marineb/m)				
				(ai_migrate 5_a/c 5_b/c)
				
				(if (> 3 (ai_living_count 5_snipers))
					(ai_place 5_snipers/zanzibar)
				)
			)
		)
	)	
)

	

(script continuous mr_resetti
	(sleep_until (= true start) 5)
	
	(if (!= (structure_bsp_index) temp_bspindex)	
		(begin
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(print "Resetting... It's like...pressing an emergency call button. You press it and I gotta come read you the riot act. See?")
			(set spawnlock 0)
			(set vehicle_id 0)
			(set spawn_mode 0)
			(set softlock 0)
				(if (= 0 (structure_bsp_index))
					(begin
						(set temp_bspindex 0)
						(ammoweapon_reset)
						(objects_attach (AR0) "" ac1 "")
						(objects_detach (AR0) ac1)
						(objects_attach (GR0) "" gc1 "")
						(objects_detach (GR0) gc1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 0_startup/s1)
						(ai_teleport_to_starting_location 0_startup/s1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)	
						(ai_migrate cspawn 0_startup/s2)
						(ai_teleport_to_starting_location 0_startup/s2)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 0_startup/s3)
						(ai_teleport_to_starting_location 0_startup/s3)
						
					
					)
				)
				(if (= 1 (structure_bsp_index))
					(begin
						(set temp_bspindex 1)
						(ammoweapon_reset)
						(objects_attach (AR1) "" ac1 "")
						(objects_detach (AR1) ac1)
						(objects_attach (GR1) "" gc1 "")
						(objects_detach (GR1) gc1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 1_startup/s1)
						(ai_teleport_to_starting_location 1_startup/s1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 1_startup/s2)
						(ai_teleport_to_starting_location 1_startup/s2)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 1_startup/s3)
						(ai_teleport_to_starting_location 1_startup/s3)
						
					)
				)
				(if (= 2 (structure_bsp_index))
					(begin
						(set temp_bspindex 2)
						(ammoweapon_reset)
						(objects_attach (AR2) "" ac1 "")
						(objects_detach (AR2) ac1)
						(objects_attach (GR2) "" gc1 "")
						(objects_detach (GR2) gc1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 2_startup/s1)
						(ai_teleport_to_starting_location 2_startup/s1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 2_startup/s2)
						(ai_teleport_to_starting_location 2_startup/s2)
						
					
					)
				)
				(if (= 3 (structure_bsp_index))
					(begin
						(set temp_bspindex 3)
						(ammoweapon_reset)
						(objects_attach (AR3) "" ac1 "")
						(objects_detach (AR3) ac1)
						(objects_attach (GR3) "" gc1 "")
						(objects_detach (GR3) gc1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 3_startup/s1)
						(ai_teleport_to_starting_location 3_startup/s1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 3_startup/s2)
						(ai_teleport_to_starting_location 3_startup/s2)
						
					)
				)
				(if (= 4 (structure_bsp_index))
					(begin
						(set temp_bspindex 4)
						(ammoweapon_reset)
						(objects_attach (AR4) "" ac1 "")
						(objects_detach (AR4) ac1)
						(objects_attach (GR4) "" gc1 "")
						(objects_detach (GR4) gc1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 4_startup/s1)
						(ai_teleport_to_starting_location 4_startup/s1)
						
					)
				)
				(if (= 5 (structure_bsp_index))
					(begin
						(set temp_bspindex 5)
						(ammoweapon_reset)
						(objects_attach (AR5) "" ac1 "")
						(objects_detach (AR5) ac1)
						(objects_attach (GR5) "" gc1 "")
						(objects_detach (GR5) gc1)
						(set softlock 1)
						(spawn_squad)
						(sleep_until (= 0 softlock) 5)
						(ai_migrate cspawn 5_startup/s1)
						(ai_teleport_to_starting_location 5_startup/s1)
						
					)
				)
		)
		(begin
		(print "same old thing")
		)
	)
	
	
	(sleep 10)
)
